- [Performance（Performance Monitoring）](#performanceperformance-monitoring)
  - [主な特徴（Android 向け）](#主な特徴android-向け)
  - [導入方法（Android - Kotlin）](#導入方法android---kotlin)
  - [ダッシュボードでの可視化](#ダッシュボードでの可視化)
  - [よくある用途](#よくある用途)
  - [引用元資料](#引用元資料)


# Performance（Performance Monitoring）

Firebase Performance Monitoring（パフォーマンス モニタリング）は、モバイルアプリやウェブアプリのパフォーマンスをリアルタイムで可視化・分析できる Firebase の機能の1つです。特に Android や iOS アプリで使うことで、アプリのレスポンスの遅延やネットワーク通信の問題を特定するのに役立ちます。

## 主な特徴（Android 向け）

- アプリの起動時間の測定
  - アプリが Cold Start / Warm Start にどれくらい時間がかかっているかを自動で記録します。

- 画面レンダリングのパフォーマンス
  - フレームが落ちていたり、表示がスムーズでない UI を検出できます（jank を検出）。

- ネットワークリクエストの監視
  - API への HTTP / HTTPS 通信のレスポンスタイム、成功・失敗率、ペイロードサイズなどを監視できます。

- カスタムトレースの追加
  - 任意の処理（例えばデータの読み込みなど）に対して、自分でトレース（trace）を追加して時間を計測できます。


## 導入方法（Android - Kotlin）

- 依存関係を追加

```kotlin
implementation("com.google.firebase:firebase-perf-ktx")
```

- Firebase SDK の初期化

通常の Firebase 導入と同様に google-services.json を配置し、 FirebaseApp.initializeApp() を呼ぶ。

- （任意）カスタムトレースを追加

```kotlin
val trace = FirebasePerformance.getInstance().newTrace("custom_trace_name")
trace.start()
// 測定したい処理
trace.stop()
```

- ネットワークリクエストは自動で検出される

OkHttp を使っていれば、自動でネットワークトレースが取られます。必要ならカスタムで設定も可能です。


## ダッシュボードでの可視化

Firebase コンソールの「Performance」セクションで、アプリの使用状況やパフォーマンスの傾向を時系列で確認できます。端末別、地域別、アプリのバージョン別のフィルタも可能です。


## よくある用途

- 特定の API が重くなっていないかの監視
- 最新リリースでアプリの起動が遅くなっていないかの確認
- UI の描画パフォーマンスの劣化の検出
- ユーザーが体感する処理遅延の特定


## 引用元資料

- ChatGPT




