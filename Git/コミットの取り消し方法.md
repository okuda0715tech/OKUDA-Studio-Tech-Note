<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [コミットの取り消し方法](#コミットの取り消し方法)
  - [一覧](#一覧)
  - [revert](#revert)
  - [reset](#reset)
    - [reset の種類](#reset-の種類)
    - [注意点](#注意点)
<!-- TOC END -->


# コミットの取り消し方法

## 一覧

|                                    | revert | reset |
|------------------------------------|--------|-------|
| 過去の特定のコミットのみを取り消す | 可     | 不可  |


## revert

`revert` は、論理的に過去のコミットを削除します。

`revert` は打消しコミットとも呼ばれ、過去のコミットに対して、その反対の変更をコミットします。


## reset

`reset` は、最新のコミットから過去のあるコミットまでを物理的に削除します。  
打消しコミットを作成することはなく、指定した範囲のコミット自体を削除します。


### reset の種類

`reset` には、 `soft / mixed / hard` 3 種類の `reset` 方法が存在している。  
違いは以下の通りである。

| オプション | 削除対象のコミットで変更されていたファイルがどうなるか     |
|------------|------------------------------------------------------------|
| soft       | 変更された内容はステージングに残る                         |
| mixed      | 変更された内容は作業ディレクトリに残る                     |
| hard       | 変更された内容は残らず、対象のファイルは変更前の状態になる |

Android Studio では、ステージングという概念がないのか、 `soft` リセットでも、 `mixed` リセット  
でも、結果に違いはないように思う。

Android Studio では、上記の 3 種類の他に `keep` というリセット方法が存在しているが、  
試してみたところ、 `hard` と違いが無いように思われる。


### 注意点

プッシュ済みのコミットをリセットする場合は、注意が必要である。  

リセット操作は、ローカルリポジトリのコミットのみを削除するため、リモートリポジトリのコミットは  
リセットした後も残っている。そのため、リセット後にプッシュすると、リモートとローカルがマージされ、  
結局、削除したはずのコミットが復活してしまうことがある。

また、開発チームの他のメンバーがプッシュ済みのコミットを既にローカルに読み込んでいる可能性があり、  
その場合も、いろいろ影響がありそうだ。
