- [用語](#用語)


# 用語

## HAL（Keymaster Hardware Abstraction Layer）


## HIDL

ハードウェアインターフェース定義言語のこと。


## AndroidKeystore

AndroidKeystore は、アプリがキーストア機能にアクセスするために  
使用する Android Framework API およびコンポーネントです。

標準の Java Cryptography Architecture API の拡張として  
実装され、アプリの固有のプロセス空間で実行される Java コードで  
構成されます。

AndroidKeystore は、リクエストをキーストアデーモンに  
転送することで、キーストアの動作に対するアプリリクエストを実行します。


## キーストアデーモン

キーストアデーモンは、Android システムのデーモンであり、  
Binder API を通じてすべてのキーストア機能へのアクセスを提供します。

キーストアで格納はできるが使用と公開はできないように暗号化された、  
実際の秘密鍵マテリアルを含む 「鍵 blob」 を格納する役割を果たします。


## keymasterd

keymasterd は、Keymaster TA へのアクセスを提供する HIDL サーバーです。  
(この名称は標準化されておらず、コンセプトを示す目的で使用されています。)


## Keymaster TA

Keymaster TA（TA: 信頼できるアプリ）は、セキュアコンテキストで  
実行されるソフトウェアであり、多くの場合 ARM SoC の TrustZone 内にあります。

すべてのセキュアなキーストアオペレーションを提供する、  
未処理の鍵マテリアルにアクセスする、  
鍵のすべてのアクセス制御条件を検証する  
などの機能を果たします。


## LockSettingsService

LockSettingsService は、パスワード認証と指紋認証の両方の  
ユーザー認証を行う Android システムコンポーネントです。

キーストアの一部ではありませんが、キーストアの鍵オペレーションは  
多くの場合ユーザー認証を必要とするため、キーストアと関連があります。  
LockSettingsService は、ゲートキーパー TA および  
フィンガープリント TA とやり取りして、  
キーストアデーモンに提供する認証トークンを取得します。

認証トークンは最終的に Keymaster TA アプリによって使用されます。


## ゲートキーパー TA

ゲートキーパー TA（TA: 信頼できるアプリ）は、セキュアコンテキストで  
実行される別のコンポーネントで、ユーザーパスワードの認証と  
認証トークンの生成を行います。

認証トークンは、特定の時点で特定のユーザーが認証されたことを  
Keymaster TA に証明するために使用されます。


## フィンガープリント TA

フィンガープリント TA（TA: 信頼できるアプリ）は、  
セキュアコンテキストで実行される別のコンポーネントで、  
ユーザーの指紋認証と認証トークンの生成を行います。

認証トークンは、特定の時点で特定のユーザーが認証されたことを  
Keymaster TA に証明するために使用されます。


