- [superのコールバックをいつ呼ぶか](#superのコールバックをいつ呼ぶか)
  - [概要](#概要)
  - [基本的な考え方](#基本的な考え方)
  - [例外ケース](#例外ケース)


# superのコールバックをいつ呼ぶか

## 概要

このドキュメントは、以下のどちらが正しいのか？に関する説明です。

```java
    @Override
    protected void onStop() {
        super.onStop();  // Always call the superclass method first

        // 自分のアプリの処理
    }

    @Override
    protected void onStop() {
        // 自分のアプリの処理

        super.onStop();  
    }
```


## 基本的な考え方

```
onCreate, onStart, onResume などの開始系のコールバックの場合は、
コールバックを呼び出してから、自分のアプリの処理を実施する。

onDestroy, onStop, onPause などの終了系のコールバックの場合は、
自分のアプリの処理を実施してから、コールバックを呼び出す。
```

理由は以下の通りです。

開始系のコールバックでは、準備が整っていないと実施できない処理を実装する可能性があるため。  
終了系のコールバックでは、クリーンアップ後には実施できない処理を実装する可能性があるため。


## 例外ケース

上記の基本的な考え方に反するケースもあります。

例えば、 Theme を変更する場合などは、 super で Theme の設定変更を行うため、  
super よりも前に自分の処理を実装する必要があります。

Theme 以外にも super 内で初期化している処理があり、  
その初期化方法を変更したい場合には、super よりも前に実装する必要があるでしょう。


