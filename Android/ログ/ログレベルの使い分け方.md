- [ログレベルの使い分け方](#ログレベルの使い分け方)
  - [概要](#概要)
  - [優先度](#優先度)
  - [ERROR](#error)
  - [WARN](#warn)
  - [INFO](#info)
  - [DEBUG と VERBOSE](#debug-と-verbose)
    - [DEBUG と VERBOSE の違い](#debug-と-verbose-の違い)
  - [参考資料](#参考資料)


# ログレベルの使い分け方

## 概要

`android.util.Log` クラスに定義されている 5 つのログレベルについて、どのような基準で選択すれば良いかを説明します。


## 優先度

各ログレベルの優先度 (重要度) は、以下の通りです。

ERROR > WARN > INFO > DEBUG > VERBOSE

DEBUG と VERBOSE は、通常、リリースビルドでは出力されないようにデフォルトで設定されています。

ERROR と WARN と INFO は、リリースビルドでも、通常、開発者のみが USB でデバイスを接続していると出力されます。開発者以外でも、ツールを使用することによって、見られる可能性があるため、セキュリティに関する情報は出力しないでください。


## ERROR

プログラムが継続不可能な状態に陥った場合に、その原因を示すためのものです。


## WARN

プログラムが継続は可能な状態ではあるが、何か予期せぬ状態に陥った場合に、その原因を示すためのものです。


## INFO

システムのオペレータが、ユーザーの操作を確認できるようなレベルのログです。実際は、 Log.i() メソッドは、 logcat にしか出力されないため、 Log.i() 単体では、オペレーターはそのログを確認することはできませんが、 Crashlytics 等を併用することで、ユーザーの操作履歴を確認します。 Crashlytics の使用例を以下に示します。

```kotlin
Log.e("Login", "ログインに失敗: $message", exception)
FirebaseCrashlytics.getInstance().log("ログイン失敗: $message")
FirebaseCrashlytics.getInstance().recordException(exception)
```

特定のユースケースが完了した場合などに出力するのが一般的です。  
例えば、以下の場合に出力します。

- アプリの初期化が完了したとき
- データベースの登録が完了したとき
- 画面を遷移したとき

INFO レベルでは、通常、細かい情報は出力しません。  
あくまで、上記のような大きなまとまり毎に出力する程度です。


## DEBUG と VERBOSE

DEBUG と VERBOSE は、どちらも実稼働環境では必要のないようなログです。  

どちらも主に、デバッグ時に必要になるログです。人によって、考え方にバラツキが出る部分であるため、明確な区別は存在しないようですが、以下に、私が良いと思った考え方を記載しておきます。


### DEBUG と VERBOSE の違い

- DEBUG は、主に、パラメータの中身を確認するようなログに使用します。  
- VERBOSE は、主に、何の処理を実施しているかを確認するようなログに使用します。

つまり、パラメーターを伴うログは DEBUG 、パラメーターを伴わないログは VERBOSE とするのが好ましいです。

このように使い分けると、ログを出力したときに、 DEBUG と VERBOSE ではログの色が異なるため、 **どのログがパラメータを含んでいるのかが一目瞭然** で、パラメータを確認したい場合に、パラメータがすぐに目に入ってきます。

例えば、テキストファイルから行を読み取るアプリでは、以下のようにログ出力すると良いでしょう。

```
V/MyApplication: Looking for file myFile.txt on the SD card
D/MyApplication: Found file myFile.txt at path <path>
V/MyApplication: Opening file myFile.txt
D/MyApplication: Finished reading myFile.txt, found 0 lines
V/MyApplication: Closing file myFile.txt
```


## 参考資料

[ロギングについて - Android Deveoper](https://source.android.com/docs/core/tests/debug/understanding-logging?hl=ja)

[Android Log Levels - Stack Overflow](https://stackoverflow.com/questions/25457858/android-log-levels)

[ロギング - RIPチュートリアル](https://riptutorial.com/android/example/5036/logging)



