<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [Rファイルについて](#r)
	- [概要](#概要)
	- [R.txtファイルの確認方法](#rtxt確認方法)
		- [ファイルの格納場所](#格納場所)
		- [注意点](#注意点)
	- [RファイルへのリソースID登録方法](#rid登録方法)
		- [静的なリソースの場合](#静的場合)
	- [RファイルからのリソースIDの取得方法](#rid取得方法)
		- [動的なリソースの場合](#動的場合)

<!-- /TOC -->


# Rファイルについて

## 概要

RファイルはリソースのIDを管理するためのファイルである。  
昔は、R.javaクラスが生成されていたが、今はR.javaファイルは生成されておらず、代わりにR.txtファイルが生成されるようだ。  


## R.txtファイルの確認方法

### ファイルの格納場所

`～/プロジェクト名/app/build/intermediates/runtime_symbol_list/debug/R.txt`

### 注意点

**一度ビルドしないと生成されないため、一度もビルドしていない場合はビルドしよう。**

**Android Studioでは表示されないファイルであるため、エクスプローラーで開こう。**


## RファイルへのリソースID登録方法

### 静的なリソースの場合

リソースがルールに従って定義されていれば、ビルドを実行した際に自動的にRファイルにリソースIDを登録する。  
例えば、`/res/drawable/aaa.png`という画像ファイルが存在しているとすると、`R.drawable.aaa`というリソースIDが自動的に登録される。


## RファイルからのリソースIDの取得方法

### 動的なリソースの場合

例えば、画像リソースのリソースIDを取得したい場合を考える。  
画像のファイル名が事前にわかっている場合は、通常の`R.drawable.ファイル名`でリソースIDが取得できるが、  
実行時まで未定である場合は、実行時に動的にファイル名を渡して、リソースIDを取得する必要がある。  
その場合は、以下のように取得することができる。

```java
// getIdentifier()は該当のリソースが存在していない場合は、0を返す。
int imageResId = getResources().getIdentifier("ファイル名", "drawable", getPackageName());
// これはリソースIDを取得するだけであり、Rファイルに新たなリソースIDを登録するものではない。
```
