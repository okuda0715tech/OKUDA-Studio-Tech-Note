<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [AndroidStudioインストール後の初期設定](#androidstudioインストール後の初期設定)
  - [仮想デバイスデータの保存先を変更する](#仮想デバイスデータの保存先を変更する)
    - [データを移行する](#データを移行する)
    - [システム環境変数を使用して新しい保存先を参照させる](#システム環境変数を使用して新しい保存先を参照させる)
    - [.ini ファイルの中身を変更する](#ini-ファイルの中身を変更する)
<!-- TOC END -->


# AndroidStudioインストール後の初期設定

## 仮想デバイスデータの保存先を変更する

様々なデバイスで試験を行うために、様々な種類の仮想デバイスを作成することがある。  
この仮想デバイスは 1 台のデバイスを生成するだけで 5 ～ 10 GByte のデータ容量を消費する。  
そのため、 PC のストレージが不足する場合がある。以下の方法で仮想デバイスデータの保存先を  
変更することができる。

### データを移行する

デフォルトでは、仮想デバイスデータは以下のフォルダに保存されている。

`C:\Users\ユーザ名\.android\avd`

`avd` フォルダ直下の全てのファイルとディレクトリを新しい保存先に移動する。


### システム環境変数を使用して新しい保存先を参照させる

システム環境変数を新規作成します。  
変数名には 「 ANDROID_AVD_HOME 」 を指定します。  
値には、新しい保存先のディレクトリを指定します。


### .ini ファイルの中身を変更する

元の `avd` フォルダ直下に仮想デバイスごとに `.ini` ファイルが存在していたはずである。  
この `.ini` ファイルを開き、絶対参照パスの部分を新しいディレクトリに変更する。

(例)  
`path=C:\xxx\avd\Pixel_XL_API_29.avd` -> `path=E:\yyy\avd\Pixel_XL_API_29.avd`

以上で作業は完了である。  
仮想デバイスが正しく起動するのを確かめたら、古い `avd` フォルダごと削除して問題ない。
