<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [LiveDataやDataBindingでよくおかしがちなビルドエラー](#livedataやdatabindingてよくおかしかちなヒルトエラー)
	- [チェックリスト](#チェックリスト)
	- [「Cannot resolve symbol 'mViewModel'」エラー](#cannot-resolve-symbol-mviewmodelエラー)
	- [LiveData の値を更新しても、レイアウト xml のデータバインディング式が、最新の値を取得してくれない場合](#livedata-の値を更新してもレイアウト-xml-のデータバインディング式が最新の値を取得してくれない場合)
<!-- TOC END -->


# LiveDataやDataBindingでよくおかしがちなビルドエラー

## チェックリスト

- 値を更新する場合は、LiveDataではなく、MutableLiveDataを使用しているか？
- LiveDataとDataBindingを同時に使用する場合は、`binding.setLifecycleOwner(this);`が実装されているか？


## 「Cannot resolve symbol 'mViewModel'」エラー

カスタムViewModelの継承元クラスを `ViewModel` と `AndroidViewModel` の間で変更した場合に  
「Cannot resolve symbol 'mViewModel'」エラーが発生することがある。  
それ以外の場合に発生することもあるため、発生条件は不明である。

問題が発生するクラスは以下のクラスである。  
`パッケージ名 > databinding > xmlファイル名 + BindingImpl`

**対処方法**

`Invalidate Caches / Restart...` と `Clean Project` を実行する。


## LiveData の値を更新しても、レイアウト xml のデータバインディング式が、最新の値を取得してくれない場合

**原因**

```java
binding.setLifecycleOwner(this); // this は Fragment など。
```

が設定されていない可能性が高い。
