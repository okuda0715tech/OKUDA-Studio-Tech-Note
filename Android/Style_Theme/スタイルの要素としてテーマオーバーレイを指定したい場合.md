<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [スタイルの要素としてテーマオーバーレイを指定したい場合](#スタイルの要素としてテーマオーハーレイを指定したい場合)

<!-- /TOC -->


# スタイルの要素としてテーマオーバーレイを指定したい場合

新しいウィジェットのスタイルを定義するときに、テーマオーバーレイを使用して、スタイルを上書きする場合の実装方法を示す。

**themes.xml**

```xml
<!-- アプリ全体のテーマ -->
<style name="Theme.Demo" parent="Base.Theme.Demo">
  <!-- デフォルトのスタイルを継承して作成したカスタムスタイルをアプリ全体のテーマに設定 -->
  <item name="materialButtonStyle">@style/Widget.Demo.Button.Gray</item>
</style>

<!-- オーバーレイしたテーマ -->
<style name="ThemeOverlay.Demo.GrayPrimary" parent="">
  <item name="colorPrimary">@color/gray</item>
</style>
```

**styles.xml**

```xml
<!-- いくつかのボタンに共通で使用したいスタイル -->
<!-- デフォルトのスタイルを継承している -->
<style name="Widget.Demo.Button.Gray" parent="@style/Widget.MaterialComponents.Button">
  <!-- NG -->
  <!-- ウィジェットスタイルの<item name="xxx">に"android:theme"は使用できない -->
  <item name="android:theme">@style/ThemeOverlay.Demo.GrayPrimary</item>
  <!-- OK -->
  <!-- 代わりに"materialThemeOverlay"を使用する。MaterialComponentsに対してのみ指定可能である。 -->
  <item name="materialThemeOverlay">@style/ThemeOverlay.Demo.GrayPrimary</item>
</style>
```

**layout.xml**

```xml
<LinearLayout
  android:layout_width="match_parent"
  android:layout_height="match_parent">

  <com.google.android.material.button.MaterialButton
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:text="Apply" />
</LinearLayout>
```
