<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [レイアウトの再利用](#レイアウトの再利用)
  - [レイアウトファイル再利用方法の概要](#レイアウトファイル再利用方法の概要)
    - [merge タグの使い所](#merge-タグの使い所)
  - [その他](#その他)
    - [子レイアウト.xmlで親レイアウト.xmlを含めたプレビューを表示する方法](#子レイアウトxmlで親レイアウトxmlを含めたプレビューを表示する方法)
<!-- TOC END -->


# レイアウトの再利用

## レイアウトファイル再利用方法の概要

レイアウト XML ファイルを再利用するには、 `<include>` タグ、 `<merge>` タグを使用します。  
親レイアウトファイルでは、 `<include>` タグを使用して、子レイアウトファイルを取り込みます。  
子レイアウトでは、ルートに `<LinearLayout>` などの `ViewGroup` タグ、もしくは `<merge>` タグを使用します。


### merge タグの使い所

`<merge>` タグを使用すると、親レイアウトが子レイアウトを読み込んだ際に、  
不要なネストが作成されるのを防ぐことができます。

`<merge>` タグは、子レイアウトのルート `Viewgroup` として使用します。

親レイアウトの `<include>` タグの直上の `Viewgroup` と子レイアウトのルート `Viewgroup` が  
同一の `ViewGroup` である場合、子レイアウトのルートに `<merge>` タグを使用することで  
不要なネストが作成されるのを防ぎます。


## その他

### 子レイアウト.xmlで親レイアウト.xmlを含めたプレビューを表示する方法

子レイアウト XML のルート View に以下を追加する。

```xml
tools:showIn="@layout/{親レイアウトのxmlファイル名}"
```

何重にもincludeしている場合は、指定した親レイアウトxmlファイルまでを含めたプレビューを行います。
