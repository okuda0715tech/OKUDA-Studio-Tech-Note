- [背景タップでキーボードを隠す](#背景タップでキーボードを隠す)
  - [注意点](#注意点)


# 背景タップでキーボードを隠す

背景の `ViewGroup` に以下の処理を追加すれば、背景タップ時にキーボードが非表示になります。

```kotlin
        val constraintLayout: ConstraintLayout = findViewById(R.id.constraint_layout)
        constraintLayout.setOnClickListener {
            // getSystemService は、ContextCompatではなく、
            // Contextの関数です。
            var imm = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager
            imm.hideSoftInputFromWindow(it.windowToken, 0)
        }
```

## 注意点

背景の `ViewGroup` に対して、フォーカスを与える処理は必要ありません。  
背景の `VeiwGroup` が `ConstraintLayout` の場合は、フォーカスを与えてしまうと、  
背景タップ時にキーボードが表示されてしまう現象が発生しています（2023年6月現在）。

フォーカスを与える処理が不要であるため、レイアウトxmlに  
`focusable` 属性や `focusableInTouchMode` 属性などを定義することも不要です。  
定義してしまうと、誤作動の原因になるため、定義しないようにしましょう。
