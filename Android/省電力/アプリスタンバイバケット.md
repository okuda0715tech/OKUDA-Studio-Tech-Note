<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [アプリスタンバイバケット](#アフリスタンハイハケット)
  - [アプリスタンバイバケットとは](#アプリスタンバイバケットとは)
  - [バケットの一覧](#バケットの一覧)
  - [アプリスタンバイバケットの変更](#アプリスタンバイバケットの変更)
    - [設定アプリを使用した変更方法](#設定アプリを使用した変更方法)
    - [adb コマンドを使用した変更方法](#adb-コマンドを使用した変更方法)
  - [現在どのスタンバイバケットに入っているかを確認する](#現在どのスタンバイバケットに入っているかを確認する)
<!-- TOC END -->


# アプリスタンバイバケット

## アプリスタンバイバケットとは

Android 9 から導入された仕組みです。

アプリの使用頻度やアプリの最終使用時刻に応じて、システムがアプリに対して優先度を割り当てます。  
優先度が低いアプリは、通知が即座に発行されずに優先度に応じて遅延されます。


## バケットの一覧

- アクティブ
- 動作中設定
- 頻繁
- 低頻度
- 未使用


## アプリスタンバイバケットの変更

### 設定アプリを使用した変更方法

スタンバイバケットは、設定アプリから変更します。  
Java などのプログラムでの変更はできません。

```
設定 -> システム -> 開発者向けオプション -> (かなり下のほうにある) スタンバイ状態のアプリ
```

バケットを変更したアプリを選択して、変更した状態を選択してください。  
これでバケットが変更されます。


### adb コマンドを使用した変更方法

以下のコマンドで指定したアプリのスタンバイバケットを変更することが可能です。

```
$ adb shell am set-standby-bucket packagename active|working_set|frequent|rare
```


## 現在どのスタンバイバケットに入っているかを確認する

以下のコマンドで、現在、どのスタンバイバケットに入っているかが確認できます。

```
$ adb shell am get-standby-bucket [packagename]
```

`packagename` パラメータを渡さずにコマンドを実行すると、すべてのアプリのバケットが一覧で表示されます。