- [ファイルアクセスのまとめ](#ファイルアクセスのまとめ)
  - [内部ストレージと外部ストレージ](#内部ストレージと外部ストレージ)
    - [外部ストレージのよくある間違い](#外部ストレージのよくある間違い)
    - [外部ストレージの場所](#外部ストレージの場所)
    - [外部ストレージの種類](#外部ストレージの種類)
    - [内部ストレージと外部ストレージの比較](#内部ストレージと外部ストレージの比較)
  - [引用元資料](#引用元資料)


# ファイルアクセスのまとめ

## 内部ストレージと外部ストレージ

### 外部ストレージのよくある間違い

外部ストレージとは、 「 SD カードなどのデバイスの外部に存在するストレージ」 という意味ではありません。 SD カードも外部ストレージに含まれますが、正確には、デバイス内にも外部ストレージは存在します。


### 外部ストレージの場所

外部ストレージとは、 `/storage/emulated/0/Android/data/` ディレクトリの配下のことを示します。つまり、左記のディレクトリが、外部ストレージのルートディレクトリとなります。


### 外部ストレージの種類

- `/storage/emulated/0/Android/data/<my-package-name>/`
  - このフォルダは Android 10 あたりから、徐々に制限が厳しくなっています。
  - Android デバイス上からは、自分のアプリしかアクセスできないようです。 Files by Goolge アプリですら、アクセスできませんでした。 ( Android 14 で確認)
  - PC からはアクセスすることができるようです。
    - Android でファイルを作成して、 PC で閲覧するのを試しただけですが、逆 ( PC で作成して Android で閲覧) も可能だと思われます。

以下は、データの種類ごとのフォルダですが、どのフォルダも PC からアクセス可能です。

- `/storage/emulated/0/Documents/`
  - ドキュメント
- `/storage/emulated/0/Download/`
- ダウンロード
- `/storage/emulated/0/DCIM/`
  - カメラで撮影した写真
- `/storage/emulated/0/Pictures/`
  - スクショ等
- `/storage/emulated/0/Music/`
  - 音楽
- `/storage/emulated/0/Movies/`
  - 動画


### 内部ストレージと外部ストレージの比較

|                              | 内部ストレージ                   | 外部ストレージ         |
| ---------------------------- | -------------------------------- | ---------------------- |
| 他のアプリからのアクセス可否 | いかなる権限を付与しようとも不可 | 基本的に共有される     |
| 場所                         | `/data/data/<my-package-name>/`  | `/storage/emulated/0/` |


## 引用元資料

- このドキュメントは、 ChatGPT との対話で得た回答をまとめました。

