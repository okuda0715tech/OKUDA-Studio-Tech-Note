- [ドメインレイヤを使用したバリデーションチェック](#ドメインレイヤを使用したバリデーションチェック)
  - [引用元資料](#引用元資料)


# ドメインレイヤを使用したバリデーションチェック

エラータイプを表す sealed class や enum を使う：

```kotlin
sealed class ValidationError {
    object Empty : ValidationError()
    object TooShort : ValidationError()
    data class InvalidFormat(val reason: String) : ValidationError()
}
```

ドメイン層の関数例：

```kotlin
fun validateEmail(email: String): ValidationError? {
    if (email.isBlank()) return ValidationError.Empty
    if (!email.contains("@")) return ValidationError.InvalidFormat("missing @")
    return null
}
```

UI 層でエラーを文字列に変換：

```kotlin
val message = when (error) {
    is ValidationError.Empty -> stringResource(R.string.error_empty)
    is ValidationError.TooShort -> stringResource(R.string.error_too_short)
    is ValidationError.InvalidFormat -> stringResource(R.string.error_invalid_format)
    null -> null
}
```


## 引用元資料

- ChatGPT
