- [画像の読み込み](#画像の読み込み)
  - [ディスクから画像を読み込む](#ディスクから画像を読み込む)
    - [ドローアブルのサポート](#ドローアブルのサポート)
  - [インターネットから画像を読み込む](#インターネットから画像を読み込む)
    - [Coil](#coil)
    - [Glide](#glide)


# 画像の読み込み

## ディスクから画像を読み込む

[Image](https://developer.android.com/reference/kotlin/androidx/compose/foundation/package-summary?_gl=1*5yvj2a*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjQ2ODM2MS4yLjAuMTcyNjQ2ODM2MS4wLjAuMzU0MDU5MDk5#Image) コンポーザブルを使用して、画面にグラフィックを表示します。ディスクから画像（PNG、JPEG、WEBP など）やベクター リソースを読み込むには、 [painterResource](https://developer.android.com/reference/kotlin/androidx/compose/ui/res/package-summary?_gl=1*5yvj2a*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjQ2ODM2MS4yLjAuMTcyNjQ2ODM2MS4wLjAuMzU0MDU5MDk5#painterresource) API を画像参照とともに使用します。アセットのタイプを認識する必要はありません。 Image コンポーザブル、または paint 修飾子で painterResource を使用するだけです。 ( ChatGPT によると Modifier.paint は非推奨になったらしい。)

DrawScope:

```kotlin
Image(
    painter = painterResource(id = R.drawable.dog),
    contentDescription = stringResource(id = R.string.dog_content_description)
)
```

アプリが画像に対して [アクセス可能](https://developer.android.com/develop/ui/compose/accessibility?_gl=1*1r51nq7*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjQ2ODM2MS4yLjAuMTcyNjQ2ODM2MS4wLjAuMzU0MDU5MDk5) であることを確認するには、画像に contentDescription を指定します。 TalkBack はコンテンツの説明を読み上げるため、読み上げられたり翻訳されたりしてもテキストが意味をなすようにする必要があります。上記の例では、stringResource() を使用して、strings.xml ファイルから翻訳されたコンテンツの説明を読み上げています。画面上の視覚要素が視覚的な装飾のみを目的としている場合は、contentDescription を null に設定してスクリーン リーダーがそれを無視するようにします。

より低レベルの ImageBitmap 固有の機能が必要な場合は、ImageBitmap.imageResource() を使用してビットマップを読み込むことができます。ImageBitmap の詳細については、 [ImageBitmap と ImageVector の比較](./3.ImageBitmap%20と%20ImageVector.md) セクションを参照してください。


### ドローアブルのサポート

painterResource は現在、次の種類のドローアブルをサポートしています。

- [AnimatedVectorDrawable](https://developer.android.com/reference/android/graphics/drawable/AnimatedVectorDrawable?hl=ja&_gl=1*1pp1mu7*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjM5ODE4NS4xLjAuMTcyNjM5ODE4NS4wLjAuMjA3MjE4NTU5Ng..)
- [BitmapDrawable](https://developer.android.com/reference/android/graphics/drawable/BitmapDrawable?hl=ja&_gl=1*1pp1mu7*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjM5ODE4NS4xLjAuMTcyNjM5ODE4NS4wLjAuMjA3MjE4NTU5Ng..) ( PNG , JPG , WEBP )
- [ColorDrawable](https://developer.android.com/reference/android/graphics/drawable/ColorDrawable?hl=ja&_gl=1*17n8joe*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjM5ODE4NS4xLjAuMTcyNjM5ODE4NS4wLjAuMjA3MjE4NTU5Ng..)
- [VectorDrawable](https://developer.android.com/reference/android/graphics/drawable/VectorDrawable?hl=ja&_gl=1*17n8joe*_up*MQ..*_ga*OTU2NjI5OTY2LjE3MjYzOTgxODU.*_ga_6HH9YJMN9M*MTcyNjM5ODE4NS4xLjAuMTcyNjM5ODE4NS4wLjAuMjA3MjE4NTU5Ng..)


## インターネットから画像を読み込む

インターネットから画像を読み込む際には、この処理に役立つサードパーティ ライブラリをいくつか利用できます。画像読み込みライブラリでは、画像を何度もダウンロードするのを避けるためのキャッシュ保存機能と、画像をダウンロードして画面に表示するネットワークロジックの両方の処理を行います。

たとえば、 Instacart という会社が提供している [Coil](https://github.com/coil-kt/coil#jetpack-compose) を使用して画像を読み込むには、ライブラリを gradle ファイルに追加し、AsyncImage を使用して URL から画像を読み込みます。

```kotlin
AsyncImage(
    model = "https://example.com/image.jpg",
    contentDescription = "Translated description of what the image contains"
)
```


### Coil

[Coil](https://github.com/coil-kt/coil#jetpack-compose) は、 Kotlin コルーチンを基盤とする画像読み込みライブラリです。 ( Instacart 社が提供)


### Glide

[Glide](https://bumptech.github.io/glide/int/compose.html) は、滑らかなスクロールを重視した Android 向けの高速かつ効率的な画像読み込みライブラリです。 ( Google が提供)

