- [トップアプリバーから移動する](#トップアプリバーから移動する)
  - [例](#例)
    - [コードに関する主なポイント](#コードに関する主なポイント)
    - [関数を渡す](#関数を渡す)


# トップアプリバーから移動する

このガイドでは、トップアプリバーのナビゲーションアイコンでナビゲーションアクションを実行する方法を説明します。

注: このページの例では CenterAlignedTopAppBar を使用していますが、これは NavigationIcon パラメータを持つすべてのアプリバーコンポーネントに適用できます。


## 例

次のスニペットは、機能的なナビゲーションアイコンを使用してトップ アプリバーを実装する方法の最小コードの例です。この場合、アイコンはユーザーをアプリ内の前の目的地に移動します。

```kotlin
@Composable
fun TopBarNavigationExample(
    navigateBack: () -> Unit,
) {
    Scaffold(
        topBar = {
            CenterAlignedTopAppBar(
                title = {
                    Text(
                        "Navigation example",
                    )
                },
                navigationIcon = {
                    IconButton(onClick = navigateBack) {
                        Icon(
                            // 戻る (左矢印) のアイコン
                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,
                            contentDescription = "Localized description"
                        )
                    }
                },
            )
        },
    ) { innerPadding ->
        Text(
            "Click the back button to pop from the back stack.",
            modifier = Modifier.padding(innerPadding),
        )
    }
}
```


### コードに関する主なポイント

この例では、次の点に注意してください。

- コンポーザブル TopBarNavigationExample は、 `() -> Unit` 型のパラメータ navigationBack を定義します。
- navigationBack は、CenterAlignedTopAppBar の navigationIcon パラメータに渡されます。

これにより、ユーザーがトップアプリバーにあるナビゲーションアイコンをクリックするたびに、 navigateBack() が呼び出されます。


### 関数を渡す

この例では、アイコンに戻る矢印を使用します。そのため、navigateBack() の引数は、ユーザーを前の目的地に移動させる必要があります。

これを行うには、TopBarNavigationExample に NavController.popBackStack() の呼び出しを渡します。これは、ナビゲーショングラフを作成する場所で行います。次に例を示します。

```kotlin
NavHost(navController, startDestination = "home") {
    composable("topBarNavigationExample") {
        TopBarNavigationExample{ navController.popBackStack() }
    }
    // Other destinations...
```

**注** : 同じアプローチを使用して、ナビゲーションアイコンに別のアクションを実装できます。たとえば、家のアイコンを使用して、 `navController.navigate("home")` への呼び出しを渡すことができます。


