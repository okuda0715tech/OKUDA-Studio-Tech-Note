<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [バックグラウンドスレッドについて](#ハッククラウントスレッドについて)
  - [バックグラウンドスレッドを使用するかどうかの判断](#バックグラウンドスレッドを使用するかどうかの判断)
  - [スレッドの優先度を指定する。](#スレッドの優先度を指定する)
<!-- TOC END -->


# バックグラウンドスレッドについて

## バックグラウンドスレッドを使用するかどうかの判断

一般的に、数ミリ秒以上かかる処理はバックグラウンドスレッドを使用します。

例えば、アプリ外部アクセスには、ディスクへのアクセス、ネットワークリクエストなどがあります。

アプリ内部では、synchronized等によるブロッキングがあります。

CPUのを長時間拘束する処理としてビットマップのデコードなどがあります。


## スレッドの優先度を指定する。

バックグラウンドスレッドで実行する処理は、UIスレッドよりも優先度を低くすることで、リソースの競合を起きにくくしたり、UIのレスポンスを改善することができます。

```Java
class PhotoDecodeRunnable implements Runnable {
    @Override
    public void run() {
        // この処理を実行しているスレッドの優先度を変更します。
        // 通常は「THREAD_PRIORITY_BACKGROUND」を使用すると良いと思います。
        android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_BACKGROUND);
    }
}
```

スレッドの優先度の指定値の一覧については、同フォルダ内の「スレッドの優先度の値の一覧」を参照してください。

もしかしたら、デフォルトで「THREAD_PRIORITY_BACKGROUND」が指定されているかもしれないので、その場合は、指定不要です。
