- [回転するプログレスバー](#回転するプログレスバー)
  - [概要](#概要)
  - [基本形](#基本形)
  - [色を変える](#色を変える)
  - [プログレスバーを消す](#プログレスバーを消す)


# 回転するプログレスバー

## 概要

サーバーからも応答待ちなどで、グルグルと回転するプログレスバーを実装する方法について記載します。


## 基本形

回転するプログレスバーは、進捗率に関する情報は持っていないため、  
単にレイアウトで `<ProgressBar>` ウィジェットを表示するだけです。

```xml
<ProgressBar
    android:layout_width="0dp"
    android:layout_height="0dp" />
```


## 色を変える

デフォルトでは、テーマの SecondaryColor が適用されます。

色を変えるには、 `android:indeterminateTint` 属性を指定します。

```xml
<ProgressBar
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:indeterminateTint="@color/colorGray" />
```


## プログレスバーを消す

プログレスバーを消したい場合は、 `VISIBILITY` を `invisible` にするようです。

なんだかアニメーションなので、非表示にしても見えないところで動いていそうで気持ち悪いですが、  
ドキュメントの `isAnimating()` メソッドは、実質的に `VISIBILITY` の状態に等しい値を返す。  
と記載されているため、 `INVISIBLE` になるとアニメーションは停止するように作られていると思われます。

なお、公式ドキュメントの `indeterminate` という用語は、日本語にすると `不確定` という意味ですが、  
これは、進捗率を持たないタイプのプログレスバーを示します。  
進捗率を持つかどうかは、プログレスバーの形状 (棒タイプかグルグルタイプか) は関係ありません。  
棒タイプでもアニメーションし続けているものもありますし、  
グルグルタイプでも進捗率に応じて塗りつぶされるものもあります。




