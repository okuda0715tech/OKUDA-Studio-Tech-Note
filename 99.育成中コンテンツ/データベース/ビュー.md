


# ビュー

## 概要

ビューはテーブルからデータを取得した一時的なテーブルです。

ただし、テーブルと違い、データを不揮発領域に持っていません。

実際のデータは不揮発領域のテーブルの物を参照しています。


## 役割

### 一文で書くと複雑なSELECT文を分割することで簡単にする

SELECT文は多くのテーブルを結合すると非常に読みづらくなり、バグの原因となったり、メンテナンス性も低下してしまいます。

（SQLの中でもあえてSELECT文としているのは、ビューは基本的には更新ができないため。更新できるビューもある。）

一つのSQLで実行していた内容を二つや三つに分割することでシンプルにすることができます。

その中間テーブルとしてビューを使用します。

中間テーブルをビューではなく、不揮発領域のテーブルとして作成することも可能ですが、それぞれのメリット・デメリットを比較して方式を決めることになるでしょう。

以下に簡単にメリットとデメリットをまとめます。

- テーブルで中間テーブルを作成した場合のメリット
  - 統計・集計など大量のデータの計算結果を画面に表示する場合、あらかじめ計算した中間テーブルを作成しておくことで素早く画面表示が可能になる。
- ビューで中間テーブルを作成した場合のメリット
  - 不揮発領域の使用量が少ない


### ユーザーの権限によって、見えるデータを絞る

同じテーブルでも、ユーザーの権限の強さによって、見せるデータと見せないデータが存在する場合、ビューを使用することで、不揮発領域の使用量を抑えながら、セキュリティを強めることができます。

