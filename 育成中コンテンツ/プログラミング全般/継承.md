- [継承](#継承)


# 継承

## 継承による機能の追加とその効果

継承によって、継承先のクラスは、親が持っていない機能 (メソッド) を追加することができます。しかし、機能を追加するだけなら、親クラスの直にメソッドを追加することも可能です。では、継承してメソッドを追加すると、どのような効果があるのでしょうか？

### 継承することで、機能へのアクセスを限定的にすることができる

例えば、以下のような User クラスがあったとします。

```kotlin
// 既存のクラス（他のコードでも広く使われているとする）
class User(val name: String, val age: Int) {
    fun isAdult(): Boolean {
        return age >= 18
    }
}
```

新しい機能（「未成年ユーザーにだけ警告を出したい」）を追加したくなったとします。 User クラスを継承せず、 User クラスに直接追加してみます。

```kotlin
class User(val name: String, val age: Int) {
    fun isAdult(): Boolean {
        return age >= 18
    }

    // 新しく追加したメソッド（例：ログ出力など）
    fun warnIfMinor() {
        if (!isAdult()) {
            println("⚠ ${name} は未成年です")
        }
    }
}
```

この場合、すでに User を使っている全てのクラスが、この warnIfMinor() メソッドにアクセスできるようになります。つまり、今後、 warnIfMinor() メソッドを変更したくなった際に、その使用箇所すべてに対して、影響がないかどうかをチェックする必要が生じます。これくらいの簡単な例なら、影響は知れているかもしれませんが、もっとビジネスロジックに影響するようなメソッドだったらと考えると、恐ろしくなります。そこで登場するのが継承です。

```kotlin
class WarnableUser(name: String, age: Int) : User(name, age) {
    fun warnIfMinor() {
        if (!isAdult()) {
            println("⚠ $name は未成年です")
        }
    }
}
```

こうすることによって、警告を出す必要があるところだけ WarnableUser を使えばよく、元の User クラスを使っている既存コードには影響がありません。

アクセス可能な範囲を限定的にすることによって、その機能を修正した場合の影響を最小限にすることは、とても重要なことです。

これが、継承による **「影響の限定」** 効果です。







