<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [トラブルシューティング](#トラブルシューティング)
  - [Domain verification state: legacy_failure となる場合](#domain-verification-state-legacy_failure-となる場合)
  - [Chrome でアプリリンクの Web ページにアクセスしてもアプリが起動しない](#chrome-でアプリリンクの-web-ページにアクセスしてもアプリが起動しない)
<!-- TOC END -->


# トラブルシューティング

## Domain verification state: legacy_failure となる場合

`<data android:scheme="http" />` が定義されていない場合に `legacy_failure` のエラーになる。

Firebase Hosting に `assetlinks.json` を保持した場合、 json ファイルは `https` に入っていることしか  
確認できないため、 `AndroidManifest.xml` の `<intent-filter>` には、 `http` は必要ないと  
思っていたが、 `http` も定義しないと `legacy_failure` が発生する。

```xml
<intent-filter android:autoVerify="true">
    <data android:scheme="http" />
    <data android:scheme="https" />
</intent-filter>
```


## Chrome でアプリリンクの Web ページにアクセスしてもアプリが起動しない

Chrome の URL 欄にアプリリンクの URL を入力して、 Web ページを開いたり、 Web ページを更新しても、  
アプリは起動しないようだ。  
メモ帳アプリなどに、 URL を入力して、それを範囲選択し、ポップアップメニューから 「開く」  
を選択すると、アプリを起動することができる。
