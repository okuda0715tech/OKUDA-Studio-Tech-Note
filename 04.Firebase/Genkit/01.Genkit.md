- [Genkit](#genkit)
  - [🌟 Genkit を一言で言うと？](#-genkit-を一言で言うと)
  - [🔧 Genkit がやってくれること](#-genkit-がやってくれること)
    - [1. 🧠 AI に「質問 → 回答」をお願いする処理を定義できる](#1--ai-に質問--回答をお願いする処理を定義できる)
    - [2. 🧪 実際にその流れを画面で試せるツールがついてくる](#2--実際にその流れを画面で試せるツールがついてくる)
    - [3. ☁️ Firebase とすごく相性が良い](#3-️-firebase-とすごく相性が良い)
  - [💡 例えるなら…](#-例えるなら)
  - [🎮 開発フロー（イメージ）](#-開発フローイメージ)
  - [🙋‍♀️ まとめ](#️-まとめ)
  - [例：文章を要約する AI を作成する](#例文章を要約する-ai-を作成する)
    - [✅ 前提（初期セットアップ）](#-前提初期セットアップ)
    - [🧠 Gemini を使って要約する AI 処理を書く](#-gemini-を使って要約する-ai-処理を書く)
    - [▶️ ローカルで動かして試す](#️-ローカルで動かして試す)
    - [☁️ Firebase Functions にデプロイも簡単](#️-firebase-functions-にデプロイも簡単)
  - [📌 補足](#-補足)
  - [引用元資料](#引用元資料)


# Genkit

## 🌟 Genkit を一言で言うと？

**「 AI を使った機能を、アプリやサービスに簡単に追加できるツール」** です。

あなたが普段、Android アプリを作っていて、「このアプリに AI を組み込みたいな」と思ったとき、 Genkit を使えばそれがかなり簡単に実現できます。

Genkit は、 TypeScript という言語を使用して、サーバー上で動作するサーバーアプリケーションを作ります。


## 🔧 Genkit がやってくれること

例えばこんなことを、 Genkit が代わりにやってくれます：


### 1. 🧠 AI に「質問 → 回答」をお願いする処理を定義できる

「このメッセージに、AIが答えてね」という流れをプログラムとして簡単に書ける

ChatGPT や Google Gemini に対応


### 2. 🧪 実際にその流れを画面で試せるツールがついてくる

自分が作った処理を、ブラウザ上の画面で入力・テストできる

エラーが出たらどこで止まったかすぐにわかる


### 3. ☁️ Firebase とすごく相性が良い

作った AI 処理をFirebase Functionsにそのまま載せられる

Android アプリからその処理を呼び出すのが簡単（＝クラウド上の AI API を作れる）


## 💡 例えるなら…

あなたが「 AI にメッセージを送って、答えを返してほしい」と思ったとします。

それを手作業でやると、

- サーバーを作って
- AI を使う処理を考えて
- エラーを見て修正して
- クラウドに載せて…

これら全部やらないといけません。

でも Genkit を使えば、

✅ AI の処理を 1 つの関数で書くだけ
✅ 試せる画面もついてくる
✅ Firebase にそのまま公開できる

という感じで、サーバーの知識がほぼ無くても AI を組み込めるんです。


## 🎮 開発フロー（イメージ）

1. `npm create genkit` でプロジェクトを作る
2. AI にやらせたいことを関数として書く（例：「文章を要約して」など）
3. ブラウザの Dev UI で試す
4. Firebase Functions にデプロイ
5. Android アプリから HTTP で呼び出して使う


## 🙋‍♀️ まとめ

- Genkit は「 AI を使いたい人」向けのかんたん補助ツール
- あなたは「このテキストを AI に渡して返してほしい」と書くだけ
- サーバーの仕組みやインフラの細かいことは、 Genkit が裏でやってくれる
- Firebase を使えば、アプリとの連携もスムーズ


## 例：文章を要約する AI を作成する

### ✅ 前提（初期セットアップ）

まず、 Node.js がインストールされていることを確認してください。次に以下のコマンドで Genkit プロジェクトを作成します。

```bash
npm create genkit@latest
cd my-summary-ai
npm install
```


### 🧠 Gemini を使って要約する AI 処理を書く

以下が「入力された長文を要約する」 Genkit の処理のコードです。

📄 src/summary.ts

```ts
import { defineFlow } from '@genkit-ai/flow';
import { generate } from '@genkit-ai/googleai'; // Gemini を使う場合
import { z } from 'zod';

// フロー定義（入力と出力の型、処理内容）
export const summarizeText = defineFlow(
  {
    name: 'summarizeText',
    inputSchema: z.string(),     // 入力は「ただのテキスト」
    outputSchema: z.string(),    // 出力も「要約されたテキスト」
  },
  async (inputText) => {
    const result = await generate({
      model: 'models/gemini-pro',
      prompt: `次の文章を簡潔に要約してください。\n\n${inputText}`,
    });

    return result.text(); // 要約されたテキストを返す
  }
);
```


### ▶️ ローカルで動かして試す

次のコマンドで開発用 UI を起動します：

```bash
npm run dev
```

ブラウザで http://localhost:3000 を開くと、 Dev UI が表示されます。そこに summarizeText というフローが見えるはずです。クリックして、文章を入力すると AI が要約してくれるのを試せます！


### ☁️ Firebase Functions にデプロイも簡単

作った summarizeText はそのまま Firebase Functions にデプロイできます。

```bash
npm install firebase-functions firebase-admin
```

そして関数として公開したい場合は：

```ts
// src/index.ts
import { onFlowHttpCall } from '@genkit-ai/flow/http';
import { summarizeText } from './summary';

export const summarize = onFlowHttpCall(summarizeText);
```

あとは Firebase Hosting や Android アプリから `https://<your-firebase-url>/summarize` にリクエストを送れば、要約 API として使えます！


## 📌 補足

- OpenAI（ChatGPT）を使いたい場合は @genkit-ai/openai を使います。
- Prompt の書き方やモデルの選び方で精度が大きく変わります。


## 引用元資料

- ChatGPT

