- [書き込み可能なコレクションへの操作](#書き込み可能なコレクションへの操作)
  - [要素の追加](#要素の追加)
    - [add()](#add)
    - [addAll()](#addall)
    - [末尾に追加する場合は += も使用可能](#末尾に追加する場合は--も使用可能)
  - [要素の削除](#要素の削除)
    - [remove()](#remove)
    - [removeAll()](#removeall)
    - [retainAll()](#retainall)
    - [clear()](#clear)
  - [-= 演算子の使用](#--演算子の使用)
  - [要素の更新](#要素の更新)


# 書き込み可能なコレクションへの操作

## 要素の追加

### add()

コレクションが List か Set の場合は、 `add()` 関数で、コレクションの末尾に一つの要素を追加することが可能です。

```kotlin
val numbers = mutableListOf(1, 2, 3, 4)
numbers.add(5)
println(numbers) // [1, 2, 3, 4, 5]
```


### addAll()

コレクションが List か Set の場合は、 `addAll()` 関数は、引数で指定した複数の要素をコレクションに追加します。

引数の型は、 `Iterable` か `Sequence` か `Array` である必要があります。引数の型とレシーバーの型が異なっていても問題ありません。例えば、 引数の型が Set で、レシーバーの型が List でも大丈夫です。

要素の追加順は、引数に指定された順番と同じになります。

addAll() 関数の第一引数に、要素を追加する開始位置を指定することが可能です。

```kotlin
val numbers = mutableListOf(1, 2, 5, 6)
numbers.addAll(arrayOf(7, 8))
println(numbers) // [1, 2, 5, 6, 7, 8]
numbers.addAll(2, setOf(3, 4))
println(numbers) // [1, 2, 3, 4, 5, 6, 7, 8]
```


### 末尾に追加する場合は += も使用可能

```kotlin
val numbers = mutableListOf("one", "two")

numbers += "three"
println(numbers)
// [one, two, three]

numbers += listOf("four", "five")    
println(numbers)
// [one, two, three, four, five]
```


## 要素の削除

### remove()

`remove()` 関数は、引数に与えたオブジェクトと同じと判定された要素をコレクションから除外します。同じオブジェクトが複数存在する場合は、最初に現れたオブジェクトのみ除外します。

```kotlin
val numbers = mutableListOf(1, 2, 3, 4, 3)
numbers.remove(3)
println(numbers) // [1, 2, 4, 3]
```


### removeAll()

`removeAll()` 関数は、引数に与えたオブジェクトと同じと判定された要素をコレクションから全て除外します。つまり、同じオブジェクトが複数存在する場合は、全てのオブジェクトを除外します。

引数に条件式を指定することも可能です。この場合、条件式が true を返す要素を全て除外します。

```kotlin
val numbersSet = mutableSetOf("one", "two", "three", "one")
numbersSet.removeAll(setOf("one", "two"))
println(numbersSet) // [three]

val numbersSet = mutableSetOf("one", "two", "three", "one")
numbersSet.removeAll { it.startsWith("o") }
println(numbersSet) // [two, three]
```


### retainAll()

`retainAll()` 関数は、引数に与えたオブジェクトと同じと判定された要素をコレクションに残し、それ以外の要素を全て除外します。同じオブジェクトが複数存在する場合は、それら全てのオブジェクトが残ります。

引数に条件式を指定することも可能です。この場合、条件式が true を返す要素を全て残し、それ以外を除外します。

```kotlin
val numbers = mutableListOf(1, 2, 3, 4, 3)
numbers.retainAll (setOf(1, 3))
println(numbers) // [1, 3, 3]

val numbers = mutableListOf(1, 2, 3, 4, 3)
numbers.retainAll { it >= 3 }
println(numbers) // [3, 4, 3]
```


### clear()

`clear()` 関数はコレクションの要素を全て削除して、空にします。

```kotlin
val numbers = mutableListOf(1, 2, 3, 4, 3)
println(numbers) // [1, 2, 3, 4, 3]
numbers.clear()
println(numbers) // []
```


## -= 演算子の使用

`-=` 演算子で要素を除外することも可能です。 `-=` 演算子の右側に単一の要素を指定した場合は、そのオブジェクトと同じとみなされる最初のオブジェクトのみを除外します。一方で、 `-=` 演算子の右側にコレクションを指定した場合は、そのオブジェクトと同じとみなされるオブジェクトを全て除外します。

```kotlin
val numbers = mutableListOf("one", "two", "three", "two", "three")

numbers -= "three"
println(numbers) // [one, two, two, three]

numbers -= listOf("one", "two")    
println(numbers) // [three]
```


## 要素の更新

List と Map の要素の更新方法については別紙に記載予定です。 Set の更新については、単に要素の除外と要素の追加であるため、 Set の更新方法というのは存在しないようです。




