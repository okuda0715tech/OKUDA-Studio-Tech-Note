- [オブジェクト式とオブジェクト宣言の違い](#オブジェクト式とオブジェクト宣言の違い)
  - [代入ステートメントの右側での使用の可否](#代入ステートメントの右側での使用の可否)
  - [インスタンス化のタイミングの違い](#インスタンス化のタイミングの違い)
  - [見分け方１](#見分け方１)
  - [見分け方２](#見分け方２)
  - [実行タイミング](#実行タイミング)


# オブジェクト式とオブジェクト宣言の違い

## 代入ステートメントの右側での使用の可否

オブジェクト式とは、代入ステートメント ( `=` ) の右側で使用可能なもののことを指します。  
オブジェクト宣言とは、代入ステートメント ( `=` ) の右側で使用不可能なもののことを指します。

**変数宣言** が代入ステートメントの右側で使用できないことを考えれば、  
**オブジェクト宣言** も右側で使用できないことが自然と理解できると思います。


## インスタンス化のタイミングの違い

オブジェクト宣言は、クラスの定義を宣言するだけで、宣言と同時にインスタンス化されることはありません。一方で、オブジェクト式は、クラスの宣言と同時にインスタンス化を行います。


## 見分け方１

オブジェクト式の場合は、 `object` 文の直後に、コロン ( `:` ) もしくは、中カッコ ( `{` ) が続きます。  
オブジェクト宣言の場合は、 `object` 文の直後に必ず名前が続きます。


## 見分け方２

object キーワードを記述する際に、その object 自体に名前が定義されているかどうか？ ( object がイコール文 `=` で何かのプロパティに代入され、名前が付与される場合は、 object 自体に名前が定義されるとは見なさない)

名前が定義されていれば、オブジェクト宣言で、定義されていなければ、オブジェクト式である。


## 実行タイミング

オブジェクト式は、 `object` 式の使用箇所で即座に実行されます。  
オブジェクト宣言は、宣言後、最初にアクセスされるまで初期化されません。  
`companion object` は、包含クラスが初めてロードされたときに初期化されます。  
( `companion object` の初期化は Java の static イニシャライザと同じタイミングです。)



