- [シングルトン](#シングルトン)
  - [「objectの宣言」による実現方法](#objectの宣言による実現方法)
    - [object宣言はクラス内に定義することもできるし、パッケージレベルで定義することもできる](#object宣言はクラス内に定義することもできるしパッケージレベルで定義することもできる)
  - [「companion object」による実現方法](#companion-objectによる実現方法)
  - [object と companion object の違い](#object-と-companion-object-の違い)
    - [そもそも companion とは](#そもそも-companion-とは)
    - [初期化のタイミングが異なる](#初期化のタイミングが異なる)
    - [クラス内で定義できる数の上限数が異なる](#クラス内で定義できる数の上限数が異なる)
  - [object と companion object の共通点](#object-と-companion-object-の共通点)
    - [どちらもシングルトンを実現する手段である](#どちらもシングルトンを実現する手段である)


# シングルトン

## 「objectの宣言」による実現方法

**定義部分**

```Kotlin
object DataProviderManager {
  fun registerDataProvider(provider: DataProvider) {
    // ...
  }

  val allDataProviders: Collection<DataProvider>
    get() = // ...
}
```

**呼び出し部分**

```Kotlin
DataProviderManager.registerDataProvider(...)
```


### object宣言はクラス内に定義することもできるし、パッケージレベルで定義することもできる



## 「companion object」による実現方法



## object と companion object の違い

### そもそも companion とは

まず、 `companion` とは、日本語にすると「付き添い」や「友達」の意味があります。  
`companion object` は、 (パッケージレベルの定義が不可で) クラス内にしか定義することができず、  
`companion object` が、その外側のクラスに「付き添う」という意味で `companion` という名前が付けられていると思われます。

### 初期化のタイミングが異なる

`companion object` は、外側のクラスのインスタンスが生成されると同時に初期化が行われます。  
初期化とは `init` ブロックが実行されるという意味です。

その一方で、 `object` は、その `object` のメンバが参照された段階で初めて初期化が行われます。  
上記と同様に、初期化とは `init` ブロックが実行されるという意味です。


### クラス内で定義できる数の上限数が異なる

クラス内で `companion object` や `object` を定義する場合、  
`companion object` は、定義できる数が一つまでですが、  
`object` は、いくつでも定義することができます。


## object と companion object の共通点

### どちらもシングルトンを実現する手段である






