- [高階関数](#高階関数)
  - [概要](#概要)
  - [例](#例)
  - [公式ドキュメントの読み込み完了済み](#公式ドキュメントの読み込み完了済み)


# 高階関数

## 概要

高階関数とは、関数の引数、もしくは戻り値に関数型を含んでいる関数のことです。


## 例

高階関数の良い例は Collection インターフェースの fold() 関数です。この関数は、コレクションの拡張関数です。コレクションの要素を蓄積していき、最後の要素まで蓄積したらその値を返します。引数には、初期値と蓄積前に適用する関数をとります。

```kotlin
fun <T, R> Collection<T>.fold(
    initial: R,
    combine: (acc: R, nextElement: T) -> R
): R {
    var accumulator: R = initial
    for (element: T in this) {
        accumulator = combine(accumulator, element)
    }
    return accumulator
}
```

fold() 関数の呼び出し側を見てみましょう。

```kotlin
val items = listOf(1, 2, 3)

// ラムダ式は中括弧で囲まれたコードブロックです。
items.fold(0, { 
    // ラムダ式がパラメータを持つ場合は '->' 記号の前に記述されます。
    acc: Int, i: Int -> 
    print("加算前の蓄積値 = $acc, 要素の値 = $i, ") 
    val result = acc + i
    println("加算後の蓄積地 = $result")
    // ラムダ内の最後の式は戻り値と見なされます。
    result
})

// パラメータの型は、推測可能であれば省略することが可能です。
val joinedToString = items.fold("Elements:", { acc, i -> acc + " " + i })
println("joinedToString = $joinedToString")
// joinedToString = Elements: 1 2 3

// ラムダ式の引数には、関数参照も渡せます。
// times 関数は乗算の演算子です。
val product = items.fold(1, Int::times)
println("product = $product")
// product = 6
```


## 公式ドキュメントの読み込み完了済み

公式ドキュメント ( [Higher-order functions and lambdas](https://kotlinlang.org/docs/lambdas.html) ) は読み込みが終わっています。内容は、ラムダ式のノートや無名関数のノートなどに記載済みです。





