- [関連用語まとめ](#関連用語まとめ)
  - [関数オブジェクト](#関数オブジェクト)
    - [概要](#概要)
    - [関数オブジェクトの型（別名「関数型」）](#関数オブジェクトの型別名関数型)
    - [関数オブジェクトの生成方法](#関数オブジェクトの生成方法)
      - [ラムダ式](#ラムダ式)
    - [関数から関数オブジェクトを生成して、そのまま関数を実行する方法](#関数から関数オブジェクトを生成してそのまま関数を実行する方法)
    - [関数オブジェクトへのパラメータの渡し方](#関数オブジェクトへのパラメータの渡し方)
  - [関数リテラル](#関数リテラル)
  - [無名関数](#無名関数)
  - [ラムダ式](#ラムダ式-1)
  - [レシーバ付き関数リテラル](#レシーバ付き関数リテラル)
  - [クロージャ](#クロージャ)


# 関連用語まとめ

## 関数オブジェクト

### 概要

Kotlin では、関数もオブジェクトとして扱います。

### 関数オブジェクトの型（別名「関数型」）

関数をオブジェクトとして扱うには、関数の型を定義する必要があります。  
関数の型を定義するには、 「引数の数」「引数の型」「返し値の型」 の情報が必要です。

例えば、以下の関数では、

```kotlin
fun twice(f: (Int) -> Int) : Int {
    // do something.
}
```

`(Int) -> Int` の部分が、関数オブジェクトの型にあたります。


### 関数オブジェクトの生成方法

#### ラムダ式

```kotlin
// TODO
```


### 関数から関数オブジェクトを生成して、そのまま関数を実行する方法

関数 (関数オブジェクトではない) が定義されている場合に、  
関数オブジェクトを **生成 & 取得 & 実行** する方法があります。  
それは前置ダブルコロンを使用する方法です。

```kotlin
fun square(i: Int): Int = i * i

fun main(args: Array<String>) {
    // 前置ダブルコロン "::" で関数オブジェクト取得
    println(::square) 
    println((::square)(5))  // パラメータを渡す場合は左記のようにする。
}
```


### 関数オブジェクトへのパラメータの渡し方

関数オブジェクトの後ろに括弧 `()` を記述することで、パラメータを渡して関数を呼び出すことができます。

```kotlin
// 例１
fun square(i: Int): Int = i * i

fun main(args: Array<String>) {
    println((::square)(5)) // 25
}

// 例２
val plus = { x: Int, y: Int -> x + y }(10, 20)
textView.text = plus.toString() // 30
// 関数オブジェクトをダブルコロンで参照することはできない。
// 参照できるのは、あくまで (fun) で定義された関数そのもののみ。
textView.text = ::plus.toString() // NG
```


## 関数リテラル

**関数リテラルとは、 「ラムダ式」 or 「無名関数」 の記述部分のこと** です。

変数に代入する数値や文字列そのものを 「数値リテラル」 や 「文字列リテラル」 と言う。  
（数値や文字列が入っている変数を別の変数に代入する場合、代入元の変数のことはリテラルとは言わない。）

同様に、関数を `fun` で定義するのではなく、 「ラムダ式」 や 「無名関数」 で定義し、  
その関数オブジェクトを直接変数に代入したり、直接、関数呼び出しのパラメータに渡す場合、  
その関数オブジェクトのことを 「関数リテラル」 と呼びます。


## 無名関数

TODO


## ラムダ式

TODO


## レシーバ付き関数リテラル

TODO


## クロージャ

ラムダ式や無名関数（ならびにローカル関数やオブジェクト式）は、そのクロージャ、  
すなわち、外側のスコープで宣言された変数にアクセスすることができます。  

例えば、 Java では、 `MainActivity.this.メソッド名` で外側のメソッドを呼び出していましたが、  
Kotlin では、クロージャという機能により `メソッド名` だけで、外側のメソッドを呼び出すことができます。















