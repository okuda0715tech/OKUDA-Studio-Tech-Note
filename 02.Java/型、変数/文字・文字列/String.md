<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [String](#string)
	- [特定の文字が含まれているかを調べる](#特定の文字が含まれているかを調べる)
	- [文字列内に含まれている特定の文字列の位置を調べる](#文字列内に含まれている特定の文字列の位置を調べる)
		- [最初に現れる位置を調べる](#最初に現れる位置を調べる)
		- [最後に現れる位置を調べる](#最後に現れる位置を調べる)
		- [X番目に現れる位置を調べる](#x番目に現れる位置を調べる)
	- [数値を三桁区切りの通貨表示にする(999,999,999)](#数値を三桁区切りの通貨表示にする999999999)
	- [文字列を指定した文字列で分割し、String型の配列に格納する。](#文字列を指定した文字列で分割しstring型の配列に格納する)
		- [第一引数に与えたパラメータは正規表現とみなされる](#第一引数に与えたパラメータは正規表現とみなされる)
		- [正規表現の例](#正規表現の例)
	- [文字列の一部を切り出す（substring）](#文字列の一部を切り出すsubstring)
		- [【応用】指定した区切り文字が最後に現れる位置から末尾までを切り落とした文字列の取得](#応用指定した区切り文字が最後に現れる位置から末尾までを切り落とした文字列の取得)
	- [文字列が特定の文字列で始まるか or 終わるかを判定する](#文字列が特定の文字列で始まるか-or-終わるかを判定する)
	- [ゼロパディング（ゼロ埋め）する](#ゼロパディングゼロ埋めする)
<!-- TOC END -->


# String

## 特定の文字が含まれているかを調べる

```java
String str = "apple_orange_melon";

str.contains("orange") // true

// パラメータに空文字を指定した場合は、常に false が返ります。
str.contains("") // false
```


## 文字列内に含まれている特定の文字列の位置を調べる

### 最初に現れる位置を調べる

```Java
String s1 = "aaabbbccc";
int position1 = s1.indexOf("bbb"); // 3
int position1 = s1.indexOf("zzz"); // -1
```

`indexOf`メソッドは、その文字列が最初に現れた位置を返します。位置は最初の文字位置を0としてカウントします。

該当の文字列が見つからなかった場合は、`-1`を返します。


### 最後に現れる位置を調べる

```Java
// indexof
String s1 = "aabbccbb";
int position1 = s1.lastIndexOf("bb"); // 6
```

`lastIndexOf`メソッドは、その文字列が最後に現れた位置を返します。位置は最初の文字位置を0としてカウントします。

該当の文字列が見つからなかった場合は、`-1`を返します。


### X番目に現れる位置を調べる

X番目に現れる位置を調べるには、indexOfの第二引数を使用する必要があるため、まず、第二引数の使用方法を記載します。

```Java
String s1 = "aazzbbzzcczz";
int position1 = s1.indexOf("zz", 2); // 2
int position2 = s1.indexOf("zz", 3); // 6
```

第二引数に検索を開始する位置を指定します。

検索開始位置から検索して、最初に見つけた位置を返します。

これを用いて、X番目に現れる位置を調べるには、以下のようにします。


```Java
String s1 = "aazzbbzzcczz";
int searchedTimes = 0; // 検索実施回数
final int SEARCH_LIMIT_TIMES = 2; // 何番目に現れる物を探したいか
int foundPosition = -1; // X番目に指定した文字列が現れた位置（いわゆるindexOfの結果と同じ）
do {
    foundPosition++;
    foundPosition = s1.indexOf("zz", foundPosition); // 6
    searchedTimes++;
} while (foundPosition >= 0 && searchedTimes < SEARCH_LIMIT_TIMES);
```


## 数値を三桁区切りの通貨表示にする(999,999,999)

```Java
String result = String.format("%,d", 1234567890); // 1,2334,567,890
```


## 文字列を指定した文字列で分割し、String型の配列に格納する。

**Sample.java**

```Java
String s = "ab,c,de,,"
s.split(",");     // ["ab","c","de"]
s.split(",",0);   // ["ab","c","de"]
s.split(",",-1);  // ["ab","c","de","",""]
s.split(",",2);   // ["ab","cde"]
```

<第二引数の説明>

| 第二引数 | 意味                                                                                     |
|----------|------------------------------------------------------------------------------------------|
| なし     | 区切る回数に制限なしで区切る。末尾の空文字は格納しない。途中の空文字は格納する。 (※ 1 )      |
| 0        | 同上                                                                                     |
| -1       | 区切る回数に制限なしで区切る。末尾の空文字を格納する。                                   |
| 1以上    | 区切る回数に制限ありで区切る。区切った後の配列のlengthが指定した長さになるように区切る。 |

(※ 1 )  
資料によっては、途中の空文字も格納しないような書き方をしているところもあるが、それは間違いである。  
途中の空文字は格納します。


### 第一引数に与えたパラメータは正規表現とみなされる

第一引数に与えたパラメータは正規表現とみなされます。  
そのため、正規表現としての特殊な意味を持つ記号を分割文字として使用したい場合には、  
エスケープする必要があります。

エスケープするには、バックスラッシュ `\` を直前に記述します。


### 正規表現の例

| 記号 | 記号の説明                                         |
|------|----------------------------------------------------|
| .    | 任意の1文字。改行文字は除く。                      |
| *    | 直前の1文字の0回以上の繰り返しと一致               |
| ^    | 行の先頭                                           |
| $    | 行の末尾                                           |
| [ ]  | カッコ内の任意の1文字と一致。「-」で範囲指定可。   |
| [^ ] | カッコ内の任意の1文字と不一致。「-」で範囲指定可。 |
| +    | 直前の文字の1個以上の繰り返しと一致                |
| ?    | 直前の文字が0個または1個の場合に一致               |
| { }  | カッコ内の数値の繰り返しと一致                     |
| 縦棒(※ 1 ) | 直前、直後どちらかのパターンに一致                 |

(※ 1 )  
マークダウン言語で `|` は、表の区切り文字として認識されてしまうため、漢字表記としています。


## 文字列の一部を切り出す（substring）

```java
String a = "012345";

// 引数の場所から最後まで
String result = a.substring(3); // "345"

// 第一引数の場所から第二引数の一つ前まで
// つまり、「第一引数＋１」～「第二引数」文字目までを抜き出す。
String result = a.substring(1,4); // "123"
```


### 【応用】指定した区切り文字が最後に現れる位置から末尾までを切り落とした文字列の取得

```java
String a = "> ホーム > a > b";
int lastIndex = a.lastIndexOf(" > ");
a.substring(0, lastIndex); // "> ホーム > a"
```


## 文字列が特定の文字列で始まるか or 終わるかを判定する

```java
String url = "http://www.examples.com/index.php";
url.startsWith("http://"); // 結果：true
url.endsWith(".html"); // 結果：false
```


## ゼロパディング（ゼロ埋め）する

別紙 「String_format.md」 を参照してください。
