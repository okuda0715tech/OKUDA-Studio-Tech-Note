- [static フィールドの使いどころ](#static-フィールドの使いどころ)
  - [ロック (排他制御) 用の変数として使う](#ロック-排他制御-用の変数として使う)
  - [シングルトンパターン](#シングルトンパターン)
  - [Immutable なインスタンスのキャッシュに使う](#immutable-なインスタンスのキャッシュに使う)
  - [悪用例](#悪用例)


# static フィールドの使いどころ

## ロック (排他制御) 用の変数として使う

```Java
class JavaClass {
    private static final Object LOCK = new Object();

    void method() {
        // Class クラスのインスタンスをロックに使用することで、
        // 複数の JavaClass インスタンスが同時に実行するのを避ける。
        synchronized (LOCK) {
            // do something.
        }
    }
}
```


## シングルトンパターン

static フィールドに唯一のインスタンスを保持する。


## Immutable なインスタンスのキャッシュに使う

繰り返し使用される Immutable なインスタンスは、毎回インスタンスを生成するとパフォーマンスが悪くなるため、  
一度生成したインスタンスを static なフィールドに保持しておくことがあります。

例えば、以下のようなアスキーアート風の数字が 0 ～ 9 まであったとします。 (以下は 3 )

```
　 <ニﾆ>、　 
　　   ||　　
　 <ニﾆＸ　　.
　　　 ||　　
　 <ニﾆ>' 　 .
```

これを並べて数字を表示するアプリがあったとしたら、  
毎回インスタンスを生成する必要はないため、  
一度生成したインスタンスを static で保持しておくと良いでしょう。


## 悪用例

static フィールドは、グローバル変数的に使用することができますが、それはやめるべきです。

そのフィールドが、いつ、どこで更新・参照されているかが追いかけきれなくなり、  
不具合につながる可能性が高まってしまいまし、  
その値が正しいかどうかも保証できずに、関連部分の実装者は不安にかられてしまうでしょう。


