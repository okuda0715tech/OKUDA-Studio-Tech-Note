- [PageObject パターン](#pageobject-パターン)
  - [PageObject パターンの役割まとめ](#pageobject-パターンの役割まとめ)
  - [具体例（Kotlin + Espresso）](#具体例kotlin--espresso)
  - [こんな時に役立つ！](#こんな時に役立つ)
  - [参考](#参考)


# PageObject パターン

PageObject パターンは、主に UIテスト（特にE2EテストやUI自動化テスト）で使われるデザインパターン で、「UI操作のロジックをページ（画面）ごとに分離して、テストコードの可読性・保守性を高める」ために使います。


## PageObject パターンの役割まとめ

| 項目                 | 説明                                                                                         |
| -------------------- | -------------------------------------------------------------------------------------------- |
| UI要素の抽象化       | ボタンやテキストなどのUI要素を、PageObject内にまとめる。                                     |
| 再利用性の向上       | 同じ画面の操作を何度も使うとき、PageObjectに共通ロジックを書いて再利用できる。               |
| テストコードの簡素化 | テスト側は「何をテストするか」に集中でき、「どうやって操作するか」はPageObjectに任せられる。 |
| UI変更への耐性       | UIの構造が変わってもPageObjectだけ修正すればよく、全テストの修正が不要になる。               |


## 具体例（Kotlin + Espresso）

```kotlin
// LoginPage.kt
class LoginPage {

    fun enterUsername(username: String): LoginPage {
        onView(withId(R.id.username)).perform(typeText(username))
        return this
    }

    fun enterPassword(password: String): LoginPage {
        onView(withId(R.id.password)).perform(typeText(password))
        return this
    }

    fun tapLoginButton(): HomePage {
        onView(withId(R.id.loginButton)).perform(click())
        return HomePage()
    }
}
```

```kotlin
// LoginTest.kt
@Test
fun login_success() {
    LoginPage()
        .enterUsername("user")
        .enterPassword("pass")
        .tapLoginButton()
        .verifyWelcomeMessage("Welcome!")
}
```


## こんな時に役立つ！

- アプリのUIがよく変わるとき
- 似たような画面をたくさんテストするとき
- テストをチームで分担して書くとき
- テストコードが読みづらくなってきたと感じたとき


## 参考

マーティンファウラー直伝の解説ページ
　[PageObject - MARTIN FOWLER COM](https://martinfowler.com/bliki/PageObject.html)




