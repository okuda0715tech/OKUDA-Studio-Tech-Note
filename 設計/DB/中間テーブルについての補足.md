- [中間テーブルについての補足](#中間テーブルについての補足)
  - [中間テーブルと親テーブル](#中間テーブルと親テーブル)
  - [親テーブルの構成](#親テーブルの構成)
  - [中間テーブルの ID は何に使う？](#中間テーブルの-id-は何に使う)
  - [中間テーブルの命名規則](#中間テーブルの命名規則)
  - [親テーブルと中間テーブルからデータを抽出する方法](#親テーブルと中間テーブルからデータを抽出する方法)


# 中間テーブルについての補足

## 中間テーブルと親テーブル

中間テーブルに外部キーとして設定される別のテーブルは、中間テーブルに対して「親テーブル」と呼ばれることが一般的です。 (「関連テーブル」と呼ばれることもあります。)


## 親テーブルの構成

親テーブルには、もう一方の親テーブルの項目を含める必要がない場合がほとんどだと思われます。


## 中間テーブルの ID は何に使う？

中間テーブルの ID には、中間テーブル内に重複するレコードが作成されるのを防ぐ役割があります。

もし、中間テーブルに ID 列を設定しない場合は、複数の項目を複合キーとして設定する必要があります。


## 中間テーブルの命名規則

中間テーブルのテーブル名には、一般的に親テーブルのテーブル名を連結した名前を用いることが多いです。

例えば、以下の二つの親テーブルが存在する場合、

- User テーブル（ユーザーを管理）
- Role テーブル（役割を管理）

両者の多対多の関係を表現するための中間テーブル名は、通常 UserRole のように命名されます。

プロジェクトやチームによっては次のような命名規則を採用する場合もあります：

- アルファベット順で親テーブル名を並べる（例：RoleUser ではなく UserRole）。
- 接尾辞をつける（例：UserRoleMapping や UserRoleLink）。


## 親テーブルと中間テーブルからデータを抽出する方法

一般的には、 JOIN を使用して、親テーブルと中間テーブルからデータを抽出します。

例えば、以下の構造のテーブルがあるとします。

- User テーブル: id, name
- Role テーブル: id, role_name
- UserRole テーブル: user_id, role_id

以下の SQL では、ユーザー ID = 1 のユーザーの役割を抽出します。

```sql
SELECT r.role_name
FROM Role r
JOIN UserRole ur ON r.id = ur.role_id
WHERE ur.user_id = 1;
```


