- [基本的な数値型](#基本的な数値型)
  - [整数型の一覧](#整数型の一覧)
  - [型推論](#型推論)
  - [小数型の一覧](#小数型の一覧)
  - [基本的には float ではなく、 double を使えば OK](#基本的には-float-ではなく-double-を使えば-ok)
  - [型推論](#型推論-1)
  - [小さい型を大きい型に代入することはできない](#小さい型を大きい型に代入することはできない)


# 基本的な数値型

## 整数型の一覧

| 型    | サイズ (bits) | 最小値                            | 最大値                              |
| :---- | :------------ | :-------------------------------- | :---------------------------------- |
| Byte  | 8             | -128                              | 127                                 |
| Short | 16            | -32768                            | 32767                               |
| Int   | 32            | -2,147,483,648 (-2^31)             | 2,147,483,647 (2^31 - 1)             |
| Long  | 64            | -9,223,372,036,854,775,808 (-2^63) | 9,223,372,036,854,775,807 (2^63 - 1) |


## 型推論

型を明示しなかった場合は、型推論が行われます。

型推論では、まずは Int 型に収まるかどうか確認され、  
収まるようなら Int 型に解決されます。  
収まらない場合は、 Long 型に解決されます。

あるいは、数値リテラルの末尾に型を指定するサフィックスを付与することで、  
指定した型が推論されるようにできます。  
例えば、 Long 型を指定したい場合は、数値リテラルの末尾に `L` を付与します。

```kotlin
val oneLong = 1L // Long
```

## 小数型の一覧

| 型   | サイズ (bits) | 仮数部のビット数 | 指数部のビット数 | 10 進数の有効桁数 |
| :----- | :---------- | :--------------- | :------------ | :------------- |
| Float  | 32          | 24               | 8             | 6 - 7         |
| Double | 64          | 53               | 11            | 15 - 16          |

浮動小数点の構成を知っていないと、上記の表の意味がわからないと思いますが、  
大切なのは、最後の列の 「 10 進数の有効桁数」 になります。

あとは、非常に大きな数値と非常に小さな数値を足したりして  
有効桁数を超えるような結果になる場合には、  
その桁が切り落とされたりするという、浮動小数点の特徴を把握していることが大切だと思われます。

浮動小数点の構成については、別紙で解説をしてるので、  
何か気になる点があればそちらを見てみるのも良いと思います。


## 基本的には float ではなく、 double を使えば OK

最近では浮動小数点演算専用の回路が付いているケースが多く、計算時間は同じだったり、  
double に変換が必要でその分 float の方が遅かったり、 float での演算はより高速にできたり、と様々です。

そのため、あまり気にせず、使いやすい double を使用すれば良いでしょう。


## 型推論

型を明示しなかった場合は、型推論が行われます。

数値リテラルに小数点が含まれる場合は、 Double 型に推論されます。

```kotlin
// Double
val pi = 3.14

// エラー (型不一致)
val one: Double = 1

// Double
val oneDouble = 1.0
```

数値リテラルの末尾に `f` か `F` を付与することで、型を省略しても Float 型を指定することができます。  
また、 `f` か `F` が指定されている数値リテラルで、有効桁数が 6 ～ 7 桁を超えた場合は、  
値は Float に収まるように丸められます。

```kotlin
// Double 型になる
val e = 2.7182818284

// Float 型になる。値は丸められ 2.7182817 となる。
val eFloat = 2.7182818284f
```


## 小さい型を大きい型に代入することはできない

Int 型の値を Long 型に代入したり、 Float 型の値を Double 型に代入することはできません。  
代入するためには、明示的な型変換が必要です。

```kotlin
val i = 1
val l = 1L
val f = 1.1f
val d = 1.1

// 型不一致エラー
val l2: Long = i
// 型不一致エラー
val f2: Float = l
// 型不一致エラー
val d2: Double = f
```

参考までに、  
Java では、 int などのプリミティブ型の場合は代入できますが、  
Integer などの参照型の場合は代入できません。  
Kotlin には、そもそも参照型しかないため、代入はできません。



