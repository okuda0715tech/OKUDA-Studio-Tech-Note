- [範囲と等差数列](#範囲と等差数列)
  - [概要](#概要)
  - [使用方法](#使用方法)
    - [重要な前提](#重要な前提)
    - [for ループで使用（昇順）](#for-ループで使用昇順)
    - [for ループで使用（降順）](#for-ループで使用降順)
    - [Collection として使用](#collection-として使用)
  - [Range を任意のステップでループする](#range-を任意のステップでループする)


# 範囲と等差数列

## 概要

範囲には、クローズな範囲とオープンな範囲があります。

クローズな範囲は `..` 演算子で表されます。オープンな範囲は `..<` 演算子で表されます。オープンな範囲は `until()` 関数や `rangeUntil()` 関数でも生成可能です。

クローズな範囲は、 「 XX 以上、 XX 以下」 を意味します。オープンな範囲は、 「 XX 以上、 XX 未満」 を意味します。

```kotlin
fun main() {
    // クローズな範囲
    println(4 in 1..4)
    // true

    // オープンな範囲
    // true or false を返すだけなら小数の Range も作成可能
    println(3.9 in 1.0..<4.0) // true
    println(3.9 in 1.0..<3.9) // false
    println(3.9f in 1.0f.rangeUntil(4.0f)) // true
    println(3.9f in 1.0f.rangeUntil(3.9f)) // false
}
```


## 使用方法

### 重要な前提

Range 自体は、小数でも生成できますが、 Range を for ループやコレクションとして使用するためには、 Iterator インターフェースを実装している必要があります。 Iterator インターフェースを実装しているのは、要素が Int, Long, Char の場合に限ります。


### for ループで使用（昇順）

```kotlin
// 1 以上 4 以下の整数を i に代入しながらループする
for (i in 1..4) print(i) // 1234

// 1 以上 4 未満の整数を i に代入しながらループする
for (i in 0.until(4)) print(i) // 0123
// 同上
for (i in 0.rangeUntil(4)) print(i) // 0123
```


### for ループで使用（降順）

降順の範囲を指定するには、 `..` 演算子の代わりに `downTo` 関数を使用します。

```kotlin
for (i in 4 downTo 1) print(i) // 4321
```


### Collection として使用

Range をコレクションとして扱えます。例えば、 `filter()` 関数や `map()` 関数が使用できます。

```kotlin
println((1..10).filter { it % 2 == 0 }) // [2, 4, 6, 8, 10]

// map 関数は処理結果を List に格納して返します。
println((1..3).map { it % 2 == 0 }) // [false, true, false]
```


## Range を任意のステップでループする

通常、範囲を使用して for ループを実行する場合は、 1 ずつインクリメントされますが、 `step` 関数を使用することで、任意のインクリメントを行うことが可能です。

ステップは、 Range が Int, Long, Char 型の場合のみ指定可能です。

```kotlin
for (i in 0..8 step 2) print(i)
println() // 02468
for (i in 0..<8 step 2) print(i)
println() // 0246
for (i in 8 downTo 0 step 2) print(i) // 86420
```




