- [可視性修飾子](#可視性修飾子)
  - [種類](#種類)
  - [パッケージ直下（ Kotlin ファイル内に直接定義）](#パッケージ直下-kotlin-ファイル内に直接定義)
  - [クラスのメンバー](#クラスのメンバー)
    - [【特殊ケース 1 】 コンストラクター](#特殊ケース-1--コンストラクター)
    - [【特殊ケース 2 】 ローカル宣言されたもの](#特殊ケース-2--ローカル宣言されたもの)
  - [モジュール](#モジュール)


# 可視性修飾子

## 種類

可視性修飾子には、以下の 4 種類が存在します。

- private
- protected
- public
- internal

デフォルトでは `public` が設定されています。

各修飾子は、使用場所によって、意味が異なるため、以下で説明します。


## パッケージ直下（ Kotlin ファイル内に直接定義）

パッケージ直下 (※ 1 ) に定義できるものには、以下のものがあります。  
(※ 1 ) 公式ドキュメントでは「パッケージ内のトップレベル」と呼んでいます。

- 関数
- プロパティ (変数)
- クラス
- オブジェクト
- インターフェイス

| 可視性修飾子 | 意味                                 |
| ------------ | ------------------------------------ |
| private      | 同一ファイル内からのみ参照可能       |
| protected    | × (パッケージ直下の定義では使用不可) |
| internal     | 同じモジュール内からのみ参照可能     |
| public       | どこからでも参照可能                 |


## クラスのメンバー

| 可視性修飾子 | 意味                                                                                               |
| ------------ | -------------------------------------------------------------------------------------------------- |
| private      | 同一クラス内からのみ参照可能                                                                       |
| protected    | 同一クラス内、および、そのサブクラス内からのみ参照可能                                             |
| internal     | 同じモジュール内で、かつ、 internal メンバーを宣言しているクラスを参照可能なところからのみ参照可能 |
| public       | メンバーを宣言しているクラスが参照できるところからのみ参照可能                                     |

```
Kotlin では、包含クラスは内部クラスの private なメンバーは参照できません。
```

protected メンバーまたは internal メンバーをオーバーライドし、可視性を明示的に指定しない場合、  
オーバーライドするメンバーも元のメンバーと同じ可視性を持ちます。


### 【特殊ケース 1 】 コンストラクター

コンストラクターは、 private か public のみを使用します。

protected は、そもそもサブクラスを定義するときに、コンストラクターが見えていなければいけないため、 public と同じ意味になります。

internal は、そもそもクラスは public でも同じモジュール内からしか参照できないため？、 public と同じ意味になります？


### 【特殊ケース 2 】 ローカル宣言されたもの

- ローカル変数、ローカル関数
  - そのブロック内からのみ参照可能であり、可視性修飾子を付与することはできません。


## モジュール

今は公式ドキュメントの意味がわかりませんが、  
ドキュメントの内容をコピペしておきます。

------- コピペ 開始 -------

可視性修飾子 internal は、メンバーが同じモジュール内で可視であることを意味します。  
より具体的には、モジュールは一緒にコンパイルされた Kotlin ファイルのセットです。次に例を示します。

- IntelliJ IDEA モジュール。
- Maven プロジェクト。
- Gradle ソースセット ( test ソースセットが main の内部宣言にアクセスできる点を除く) 。
- Ant タスクの 1 回の呼び出しでコンパイルされた \<kotlinc\> ファイルのセット。

------- コピペ 終了 -------

参考までに、モジュールに関する公式ドキュメントへのリンクも載せておきます。

[一般的なモジュール化パターン - Android Developer](https://developer.android.com/topic/modularization/patterns?hl=ja)


