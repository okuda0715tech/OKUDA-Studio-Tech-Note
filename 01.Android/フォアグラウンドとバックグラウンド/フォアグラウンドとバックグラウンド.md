<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [フォアグラウンドとバックグラウンド](#)
	- [アプリにおけるフォアグラウンドとバックグラウンドの定義](#定義)
	- [サービスにおけるフォアグラウンドとバックグラウンドの定義](#定義)

<!-- /TOC -->


# フォアグラウンドとバックグラウンド

## アプリにおけるフォアグラウンドとバックグラウンドの定義

アプリは、以下のいずれかに該当する場合にフォアグラウンドにあると見なされます。

1. 可視アクティビティがある（アクティビティが開始されているか一時停止されているかに関係なく）。
2. フォアグラウンド サービスを使用している。
  - startForegroundされているサービスのこと
3. 別のフォアグラウンド アプリが、該当アプリのいずれかのサービスにバインドされるか、該当アプリのいずれかのコンテンツ プロバイダを使用することで、該当アプリに接続している。 たとえば、別のアプリが次のいずれかのサービスにバインドされると、アプリがフォアグラウンドになります。
  - IME
  - 壁紙サービス
  - 通知リスナー
  - 音声またはテキスト サービス


アプリは、メモリ管理の面においてはバックグラウンドにあるが、サービスを起動する能力についてはフォアグラウンドにある場合があります。  
上記の3の場合については、メモリ管理においてはバックグラウンドにあるとみなされます。


## サービスにおけるフォアグラウンドとバックグラウンドの定義

Service内で、startForegroundService()を呼び出したServiceはフォアグラウンドサービスと見なされます。  
それ以外のサービスはバックグラウンドサービスと見なされます。
