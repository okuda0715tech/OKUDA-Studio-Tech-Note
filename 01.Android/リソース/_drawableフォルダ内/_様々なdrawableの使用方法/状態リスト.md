# 状態リスト

ボタンがタップされた時やボタンが非活性の状態の時に通常とは異なるdrawableリソースを表示することができる。

（例）

res/drawable/button.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true"
          android:drawable="@drawable/button_pressed" /> <!-- pressed -->
    <item android:state_focused="true"
          android:drawable="@drawable/button_focused" /> <!-- focused -->
    <item android:state_hovered="true"
          android:drawable="@drawable/button_focused" /> <!-- hovered -->
    <item android:drawable="@drawable/button_normal" /> <!-- default -->
</selector>
```

上記のxmlを読み込むボタン

```xml
<Button
    android:layout_height="wrap_content"
    android:layout_width="wrap_content"
    android:background="@drawable/button" />
```

## 属性の説明

### <item\> タグの属性

値は全てtrue/falseを設定する。

属性                         | 説明
-----------------------------|---------------------------------------------------------------------
android:state_pressed        | 対象のViewを指で抑えている状態
android:state_focused        | フォーカス移動し、対象のViewにフォーカスが当たっている状態。<br>Viewは「Focusable」、「FocusableInTouchMode」という属性を持っており、これらの属性がtrueのViewはフォーカスを持つことができる。例えば、デフォルトでTextViewはフォーカスを持つことができないが、EditTextはフォーカスを持てるようになっている。<br>Focusableの方がFocusableInTouchModeよりも強く、以下のような挙動となる。<br>・Focusable : true FocusableInTouchMode : true ・・・ 設定可能<br>・Focusable : true FocusableInTouchMode : false ・・・ 設定可能<br>・Focusable : false FocusableInTouchMode : false ・・・ 設定可能<br>・Focusable : false FocusableInTouchMode : true ・・・ 設定不可能<br>Focusable ・・・ 十字キーやタブキーなどあらゆる操作でのフォーカス移動<br>FocusableInTouchMode ・・・ 画面タップによるタップしたViewへのフォーカス移動
android:state_hovered        | マウスでカーソル移動し、対象のViewにカーソルが乗っている状態
android:state_selected       | 十字キーでフォーカス移動し、対象のViewにフォーカスが当たっている状態（リモコンで操作した場合に使用）
android:state_checkable      | チェック可能な状態かどうか<br>チェックボックスを非活性にすることができるとしたら、非活性にした状態のこと？<br>アクションバーのメニュー内のアイテムにチェックボックスを表示したい時にcheckableをtrueにする？<br>（調べても詳細が出てこないのでこれ以上はわからない）
android:state_checked        | チェックボックスがチェックされた状態（独自画像でチェックボックスを作成する場合に使用する）
android:state_enabled        | ボタン活性状態（JavaコードからsetEnabled(boolean)で状態を設定）
android:state_activated      | Viewがアクティブな状態<br>ボタンをタップした後、指を離してもアクティブ状態である限り、継続的に指定したdrawableリソースを表示したい場合に使用する。
android:state_window_focused | アプリがフォアグラウンドの状態<br>Notificationが表示された場合やOSが発生させるダイアログがアプリの上に表示さた場合にfalseの状態になる。

## 使用上の注意点

android:background属性にxmlを指定する場合とandroid:textColorに指定する場合でxmlファイルのcolor属性の書き方が異なる。

詳細は下記の記事を参照
　[Android　selector の item タグの color の注意点](http://y-anz-m.blogspot.com/2010/11/androidselector-item-color.html)

## 子Viewの状態を親Viewの状態と同期する方法

### 内容の説明

- 子Viewの状態を親Viewの状態と同期することができる。
- 同期した場合、特定の子Viewだけ別の状態にすることができない。
- 特定の子Viewだけ別の状態にしたい場合は、同期の設定を外せばできる。

### 同期方法

子ViewのduplicateParentStateにtrueをセットする。

xmlで記述する場合

```xml
android:duplicateParentState="true"
```

Javaで記述する場合

```Java
View v = new View();
v.setDuplicateParentStateEnabled(true)
```






