

# Application クラスのライフサイクル

## Application クラスの生存期間

調べてみた感じだと Application クラスの生存期間は、  
アプリのプロセスの生存期間と一致していると思われる。

Activity などの `onDestroy` に該当するメソッドが、  
Application クラスだと `onTerminate` だと思われる。


## onCreate コールバック

アプリケーションの起動時、アクティビティ、サービス、  
またはレシーバーオブジェクト (コンテンツ プロバイダーを除く) が  
作成される前に呼び出されます。

この関数に費やされる時間は、プロセス内の最初のアクティビティ、  
サービス、またはレシーバーを開始するパフォーマンスに直接影響するため、  
実装はできるだけ迅速に行う必要があります。  
(たとえば、状態の遅延初期化を使用する)。

このメソッドをオーバーライドする場合は、必ず `super.onCreate()` を呼び出してください。


## onLowMemory コールバック

これは、システム全体のメモリが不足しており、アクティブに実行されているプロセスが  
メモリ使用量を削減する必要がある場合に呼び出されます。

これが呼び出される正確な時点は定義されていませんが、  
一般的に、すべてのバックグラウンドプロセスが強制終了されたときに呼び出されます。  
つまり、強制終了を避けたいサービスとフォアグラウンド UI をホストしているプロセスを  
強制終了する段階に達する前です。

保持している可能性のあるキャッシュやその他の不要なリソースを解放するには、  
このメソッドを実装する必要があります。

このメソッドから戻った後、システムはガベージコレクションを実行します。


## onTerminate コールバック

このメソッドは、エミュレーター環境で使用するためのものです。  
実稼働 Android デバイスでは呼び出されることはありません。

プロセスは単に強制終了し、削除されます。  
その際、ユーザーコード (このコールバックを含む) は実行されません。  
このメソッドをオーバーライドする場合は、スーパークラス実装を呼び出す必要があります。


## onTrimMemory コールバック

プロセスがプロセスから不要なメモリを削除するのに適した時期であると  
OS が判断したときに呼び出されます。

これは、例えば、バックグラウンドで動作し、  
必要な数のバックグラウンドプロセスを実行し続けるのに  
十分なメモリがない場合に発生します。

新しい中間値が追加される可能性があるため、レベルの正確な値と比較しないでください。  
通常は、値が関心のあるレベル以上であるかどうかを比較する必要があります。




