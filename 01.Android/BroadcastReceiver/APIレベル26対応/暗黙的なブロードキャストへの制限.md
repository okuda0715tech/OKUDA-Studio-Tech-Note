<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [暗黙的なブロードキャストへの制限](#暗黙的なブロードキャストへの制限)
  - [概要](#概要)
  - [対応方法 1 : 動的にレシーバーを登録する](#対応方法-1--動的にレシーバーを登録する)
  - [対応方法 2 : WorkManager を使用する](#対応方法-2--workmanager-を使用する)
<!-- TOC END -->


# 暗黙的なブロードキャストへの制限

## 概要

暗黙的なブロードキャストは、マニフェストでレシーバーを登録することができなくなります。

暗黙的なブロードキャストを静的な設定 (マニフェストファイルへの `<receiver>` の登録) だけで、  
受信可能にしてしまうと、一度に必要以上に多くのアプリがブロードキャストを受信してしまう可能性があります。

上記のようなデバイスのリソース過剰消費を予防するために、 Android 8 ( API レベル 26 ) 以降では、  
動的にレシーバーを登録しなければいけないようになりました。

ただし、以下の場合は、動的なレシーバー登録は必要ありません。

- 明示的なブロードキャストの場合
- 署名パーミッションが必要なブロードキャストの場合


## 対応方法 1 : 動的にレシーバーを登録する

以下のメソッドを使用して、レシーバーを登録します。

[Context.registerReceiver()](https://developer.android.com/reference/android/content/Context#registerReceiver(android.content.BroadcastReceiver,%20android.content.IntentFilter))


## 対応方法 2 : WorkManager を使用する

処理の内容によっては、暗黙的なブロードキャストを受信するのをやめて、 `WorkManager`  
に移行することが可能になります。

例えば、 「デバイスが電源に接続されたとき」 を通知するブロードキャストを受信していた処理は、  
`WorkManager` の実行条件に同じ条件が存在するため、 `WorkManager` での実装が可能になります。
