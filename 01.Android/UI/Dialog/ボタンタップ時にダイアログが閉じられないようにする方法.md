<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [ダイアログが閉じないようにする方法](#ダイアログが閉じないようにする方法)
  - [画面外タップ時に閉じないようにする](#画面外タップ時に閉じないようにする)
  - [ボタンタップ時でさえ、閉じないようにする](#ボタンタップ時でさえ閉じないようにする)
<!-- TOC END -->


# ダイアログが閉じないようにする方法

## 画面外タップ時に閉じないようにする

`DialogFragment` の `onCreate()` メソッド内などで `setCancelable(false)` を呼び出す。  


## ボタンタップ時でさえ、閉じないようにする

基本的にダイアログの既定のポジティブボタンやネガティブボタンをタップした場合は、ダイアログは閉じられます。

`OnShowListener` で `onClick` メソッドをオーバーライドします。

```Java
final AlertDialog dialog = new AlertDialog.Builder(context)
        .setView(v)
        .setTitle(R.string.my_title)
        .setPositiveButton(android.R.string.ok, null) //Set to null. We override the onclick
        .setNegativeButton(android.R.string.cancel, null)
        .create();

dialog.setOnShowListener(new DialogInterface.OnShowListener() {

    @Override
    public void onShow(DialogInterface dialogInterface) {

        Button button = ((AlertDialog) dialog).getButton(AlertDialog.BUTTON_POSITIVE);
        button.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View view) {
                // TODO Do something

                // ここで dismiss() を呼ばなければ、
                // デフォルトの非表示処理がオーバーライドされて、
                // ボタンタップ時にダイアログが閉じなくなると思われます。
                // dialog.dismiss();
            }
        });
    }
});
dialog.show();
```
