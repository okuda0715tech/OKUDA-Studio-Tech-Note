- [XML テーマを Compose に移行する](#xml-テーマを-compose-に移行する)


# XML テーマを Compose に移行する

簡単に言うと、 XML のテーマをもとに、マテリアルテーマビルダーで、マテリアルデザイン 3 のファイルを出力して、それを組み込んで、 XML のテーマを削除するという流れだと思われます。

既存のアプリに Compose を導入する場合は、Compose 画面に MaterialTheme を使用するように XML でテーマを移行する必要があります。つまり、アプリのテーマ設定には、ビューベースのテーマと Compose テーマの 2 つの信頼できる情報源があります。スタイルの変更は複数の場所で行う必要があります。アプリを Compose に完全に移行したら、XML テーマ設定を削除できます。

注: マテリアル デザイン以外のシステムについては、 [Compose のカスタム デザイン システム](./5.カスタムテーマ設定.md) をご覧ください。

XML テーマを Compose に移行するには、 [マテリアル テーマビルダー](https://m3.material.io/theme-builder) を使用して、Compose で XML テーマからマテリアル 3 に移行します。XML テーマのプライマリ カラーやセカンダリ カラーなど、既存のカラーロールを使用して、マテリアル テーマビルダーに渡すことができます。これにより、Compose で完全なマテリアル 3 テーマが作成され、アプリで使用するダウンロード可能なカラーファイルとテーマファイルが提供されます。

マテリアル テーマビルダーは、アプリの MaterialTheme と、ライトとダークのカラーパターンを生成します。アプリでカスタム シェイプまたはタイポグラフィを使用している場合は、Shape と Typography を定義して、カスタム シェイプとタイポグラフィを移行します。定義したら、その情報を MaterialTheme に提供します。詳しくは、シェイプとタイポグラフィをご覧ください。

注: マテリアル 3 を使用していない場合は、 [Compose のマテリアル デザイン 2](https://developer.android.com/develop/ui/compose/designsystems/material?hl=ja&_gl=1*qpoq5v*_up*MQ..*_ga*NTY3MDY5MDA1LjE3MjQ2NTg1MjY.*_ga_6HH9YJMN9M*MTcyNjEyMjYwMC4xMS4wLjE3MjYxMjI2MDAuMC4wLjIwNTMwODE2NjA.) でテーマの作成方法をご確認ください。マテリアル 3 に移行する準備ができたら、 [Compose でマテリアル 2 からマテリアル 3 に移行する](https://developer.android.com/develop/ui/compose/designsystems/material2-material3?hl=ja&_gl=1*22rewu*_up*MQ..*_ga*NTY3MDY5MDA1LjE3MjQ2NTg1MjY.*_ga_6HH9YJMN9M*MTcyNjEyMjYwMC4xMS4wLjE3MjYxMjI2MDAuMC4wLjIwNTMwODE2NjA.) をご覧ください。

