- [マルチタッチ: パン、ズーム、回転](#マルチタッチ-パンズーム回転)


# マルチタッチ: パン、ズーム、回転

参考 : パンやその他の操作の名称の詳細については、 [操作方法とその名称](../../../../../../../操作方法とその名称.md) を参照してください。

パン、ズーム、回転に使用されるマルチタッチ ジェスチャを検出するには、 transformable 修飾子を使用できます。この修飾子は要素自体を変換せず、ジェスチャを検出するだけです。 (パンは、マルチタッチジェスチャーではありませんが、 transfomable 修飾子でサポートされているため、このドキュメントに含まれています。)

```kotlin
@Composable
private fun TransformableSample() {
    // set up all transformation states
    var scale by remember { mutableStateOf(1f) }
    var rotation by remember { mutableStateOf(0f) }
    var offset by remember { mutableStateOf(Offset.Zero) }
    val state = rememberTransformableState { zoomChange, offsetChange, rotationChange ->
        scale *= zoomChange
        rotation += rotationChange
        offset += offsetChange
    }
    Box(
        Modifier
            // apply other transformations like rotation and zoom
            // on the pizza slice emoji
            .graphicsLayer(
                scaleX = scale,
                scaleY = scale,
                rotationZ = rotation,
                translationX = offset.x,
                translationY = offset.y
            )
            // add transformable to listen to multitouch transformation events
            // after offset
            .transformable(state = state)
            .background(Color.Blue)
            .fillMaxSize()
    )
}
```

<img src="./画像/transformable の例.gif" width="150">

ズーム、パン、回転を他のジェスチャと組み合わせる必要がある場合は、 [PointerInputScope.detectTransformGestures](https://developer.android.com/reference/kotlin/androidx/compose/foundation/gestures/package-summary?_gl=1*10txm62*_up*MQ..*_ga*MjExMDE2NTk5NS4xNzI3MzM1MzI5*_ga_6HH9YJMN9M*MTcyNzQwMjcyMy4yLjAuMTcyNzQwMjcyMy4wLjAuMTE1MDg2NjIyNQ..#(androidx.compose.ui.input.pointer.PointerInputScope).detectTransformGestures(kotlin.Boolean,kotlin.Function4)) 検出器を使用できます。

