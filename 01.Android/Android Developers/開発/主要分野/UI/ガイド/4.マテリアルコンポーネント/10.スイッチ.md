- [スイッチ](#スイッチ)


# スイッチ

[Switch](https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary?hl=ja&_gl=1*1m95l87*_up*MQ..*_ga*NTY3MDY5MDA1LjE3MjQ2NTg1MjY.*_ga_6HH9YJMN9M*MTcyNTI0Njg0NC41LjAuMTcyNTI0Njg0NC4wLjAuMA..#Switch(kotlin.Boolean,kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.SwitchColors,androidx.compose.foundation.interaction.MutableInteractionSource)) コンポーネントを使用すると、ユーザーはチェック済みとチェックなしの 2 つの状態を切り替えることができます。アプリでは、スイッチを使用して、ユーザーが次のいずれかを実行できるようにすることができます。

- 設定のオン/オフを切り替える。
- 機能を有効または無効にする。
- オプションを選択する。

コンポーネントには、つまみ ( thumb ) と溝 ( track ) の 2 つの部分があります。つまみはスイッチのドラッグ可能な部分で、溝は背景です。ユーザーは **つまみを左または右にドラッグして、スイッチの状態を変更できます。** スイッチを**タップしてチェックしたりクリアしたりすることもできます。**

<img src="./画像/switch コンポーネント.png" width="600">


## 基本的な実装

完全な API 定義については、Switch リファレンスを参照してください。次に、使用する必要がある可能性のある主要なパラメータの一部を示します。

- `checked`: スイッチの初期状態。

- `onCheckedChange`: スイッチの状態が変わったときに呼び出されるコールバック。

- `enabled`: スイッチが有効か無効か。

- `colors`: スイッチに使用される色。

次の例は、Switch コンポーザブルの最小限の実装です。

```kotlin
@Composable
fun SwitchMinimalExample() {
    var checked by remember { mutableStateOf(true) }

    Switch(
        checked = checked,
        onCheckedChange = {
            checked = it
        }
    )
}
```

チェックボックスをオフにすると次のように表示されます。

<img src="./画像/OFF のスイッチ.png" width="100">

オンにした場合の外観は次のようになります。

<img src="./画像/ON のスイッチ.png" width="100">


## 高度な実装

より高度なスイッチを実装するときに使用する主なパラメータは次のとおりです。

- `thumbContent`: チェックされたときのサムの外観をカスタマイズするために使用します。
- `colors`: トラックとサムの色をカスタマイズするために使用します。


### つまみをカスタマイズする

カスタムのつまみ ( thumb ) を作成するには、 `thumbContent` パラメータに任意のコンポーザブルを渡すことができます。以下は、サムにカスタム アイコンを使用するスイッチの例です。

```kotlin
@Composable
fun SwitchWithIconExample() {
    var checked by remember { mutableStateOf(true) }

    Switch(
        checked = checked,
        onCheckedChange = {
            checked = it
        },
        thumbContent = if (checked) {
            {
                Icon(
                    imageVector = Icons.Filled.Check,
                    contentDescription = null,
                    modifier = Modifier.size(SwitchDefaults.IconSize),
                )
            }
        } else {
            null
        }
    )
}
```

この実装では、チェックされていない状態の外観は前のセクションの例と同じです。ただし、チェックされている場合、この実装は次のようになります。

<img src="./画像/カスタムアイコンのスイッチ.png" width="100">


### 色をカスタマイズする

次の例は、スイッチがチェックされているかどうかを考慮して、colors パラメータを使用してスイッチのサムとトラックの色を変更する方法を示しています。

```kotlin
@Composable
fun SwitchWithCustomColors() {
    var checked by remember { mutableStateOf(true) }

    Switch(
        checked = checked,
        onCheckedChange = {
            checked = it
        },
        colors = SwitchDefaults.colors(
            checkedThumbColor = MaterialTheme.colorScheme.primary,
            checkedTrackColor = MaterialTheme.colorScheme.primaryContainer,
            uncheckedThumbColor = MaterialTheme.colorScheme.secondary,
            uncheckedTrackColor = MaterialTheme.colorScheme.secondaryContainer,
        )
    )
}
```

これを実装すると次のようになります。

<img src="./画像/カスタムカラーのスイッチ.png" width="100">


## 参考情報

- [マテリアル UI のドキュメント](https://m3.material.io/components/switch/overview)


