- [ImageBitmap と ImageVector](#imagebitmap-と-imagevector)
  - [ImageBitmap](#imagebitmap)
  - [ImageVector](#imagevector)


# ImageBitmap と ImageVector

最も一般的な 2 種類の画像形式は、ラスター画像とベクター画像です。

ラスター グラフィック形式にはピクセルが含まれます。ピクセルとは、色 (赤、緑、青、アルファ値で構成) を含む小さな個々の四角形です。多数のピクセルを一緒に配置すると、写真などの非常に詳細な画像を作成できます。ラスター グラフィックの解像度 (ピクセル数) は固定です。つまり、画像のサイズを大きくすると、詳細が失われ、ピクセル化 (滑らかさが失われドット絵のようになる現象) が発生する可能性があります。ラスター グラフィック形式の例としては、 JPEG , PNG , WEBP などがあります。

<img src="./画像/JPEG ファイルの例.jpg" width="100">

一方、ベクター画像は、画面上の視覚要素のスケーラブルな数学的表現です。ベクターは、画面上に線、点、塗りつぶしなどの画像を描画する方法を記述するコマンドのセットです。画面上でベクターを拡大縮小しても、数式によってさまざまなコマンド間の関係が維持されるため、品質が損なわれることはありません。ImageVector の良い例としては、 [マテリアルシンボル](https://fonts.google.com/icons) が挙げられます。これらはすべて数式で定義できます。

<img src="./画像/ベクターファイルの例.png" width="100">


## ImageBitmap

Compose では、ラスター イメージ (多くの場合、ビットマップと呼ばれます) を ImageBitmap インスタンスにロードでき、ビットマップを画面に描画するのは BitmapPainter です。

単純な使用例では、painterResource() を使用して ImageBitmap を作成し、Painter オブジェクト (この場合は BitmapPainter) を返します。

```kotlin
Image(
    painter = painterResource(id = R.drawable.dog),
    contentDescription = stringResource(id = R.string.dog_content_description)
)
```

さらにカスタマイズ ( [カスタムペインターの実装](./6.カスタムペインター.md) など) が必要で、ImageBitmap 自体にアクセスする必要がある場合は、次の方法でロードできます。

```kotlin
val imageBitmap = ImageBitmap.imageResource(R.drawable.dog)
```


## ImageVector

VectorPainter は、ImageVector を画面に描画する役割を担います。ImageVector は、SVG コマンドのサブセットをサポートしています。すべての画像をベクターとして表現できるわけではありません (たとえば、カメラで撮影した写真をベクターに変換することはできません)。

ImageVector ファイルを作成するには、既存の vector drawable XML ファイル (インポート ツールを使用して Android Studio にインポート) をインポートするか、クラスを実装して手動でパス コマンドを発行します。

単純なユースケースでは、painterResource() が ImageBitmap クラスに対して機能するのと同じように、ImageVectors に対しても機能し、結果として VectorPainter を返します。painterResource() は、VectorDrawables と BitmapDrawables をそれぞれ VectorPainter と BitmapPainter にロードします。VectorDrawable を画像にロードするには、次を使用します。

```kotlin
Image(
    painter = painterResource(id = R.drawable.baseline_shopping_cart_24),
    contentDescription = stringResource(id = R.string.shopping_cart_content_desc)
)
```

さらにカスタマイズが必要で、ImageVector 自体にアクセスする必要がある場合は、次の方法で読み込むことができます。

```kotlin
val imageVector = ImageVector.vectorResource(id = R.drawable.baseline_shopping_cart_24)
```



