# CheckBox

## チェックボックスのチェックを親ビューのタップと連動させる時のコツ

チェックボックスとその親ビューのタップを連動させたい時、気をつけることがある。

1. チェックボックスに`setClickable(false)`を設定する。
2. チェックボックスをタップした時には何も処理しない
3. 親ビューをタップした時にチェックボックスの状態をコードで変更する。

### ポイント1について

要はチェックボックスのタップを無効にして、チェックボックスタップを親ビューに透過させたいということ。
チェックボックスのタップが有効の場合は、親ビューがタップイベントをキャッチできない。無効の場合は、親ビューがタップを検出してくれる。
つまりは、チェックボックスタップ時に親ビューに実装したコールバックで処理がしたいということ。

### ポイント2について

ポイント1の説明に書いた通り。

### ポイント3について

ポイント1に書いた通り、チェックボックスのタップは無効になっているため、親ビューのタップ時の処理として、チェックボックスの状態を変更する必要がある。

### なぜこのような実装にするのか

チェックボックスタップ時のコールバックと親ビュータップ時のコールバックをそれぞれ実装すると、チェックボックスタップ時のコールバックの実装が複雑になるため、それを避けるためである。
チェックボックスタップ時のコールバックは以下の2つの状況で発生する。

- ユーザがチェックボックスをタップした時
- ユーザが親ビューをタップした時のコールバックに実装したJavaコードによるチェックボックスの状態変化

これらの処理は、それぞれ別の処理になるので、チェックボックスのコールバックにそれぞれを考慮した実装をするのが難しい。
