<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [Fragmentのライフサイクル](#fragmentのライフサイクル)
	- [onAttach](#onattach)
	- [onCreate](#oncreate)
	- [onCreateView](#oncreateview)
	- [onViewCreated](#onviewcreated)
	- [onActivityCreated](#onactivitycreated)
	- [onStart](#onstart)
	- [onResume](#onresume)
	- [onRestart](#onrestart)
	- [onPause](#onpause)
	- [onStop](#onstop)
	- [onDestroyView](#ondestroyview)
	- [onDestroy](#ondestroy)
	- [onDetach](#ondetach)
- [参考](#参考)

<!-- /TOC -->

# ライフサイクル

- 基本的にはActivityのFragmentと同じライフサイクルを持ち、Activityのコールバックに連動してFragmentのコールバックが呼ばれる
- ActivityがonResumeが呼ばれた状態（再開状態）の時は、Fragmentを自由に追加や削除することができる。
- つまり、その時だけは、Activityのライフサイクルに縛られずに自由にFragmentを管理することができる。
- ActivityとFragmentの主な違い
	- Activity
		- 停止状態になった場合、自動的にシステムが管理するバックスタックに積まれる。
	- Fragment
		- Fragmentを削除するトランザクション中に`addToBackStack()`を呼び出した場合のみ、ホストActivityのバックスタックに積まれる。


## onInflate



## onAttach

- 特徴
	- パラメータでContextが渡されるため、ホストActivityを参照することが可能になります。


## onCreate

- 特徴
	- Activityに同じ


## onCreateView

- 特徴
	- フラグメントで使用するViewを生成(Inflate)して返すメソッドです。
	- UIを持たないFragmentの場合はこのメソッドは呼ばれません。


## onViewCreated

- 特徴
	- onViewCreated()は、このFragmentのViewが生成された後に呼び出されます。
	- Viewの初期化とFragmentの状態の復元はここで行うことを推奨します。


## onActivityCreated

- 特徴
	- アクティビティの onCreate() メソッドがreturnしたタイミングで呼び出されます。


## onViewStateRestored

- 特徴
	- 


## onStart

- Activityの同メソッドと同じタイミングで呼ばれる


## onResume

- Activityの同メソッドと同じタイミングで呼ばれる


## onRestart

- Activityの同メソッドと同じタイミングで呼ばれる


## onPause

- Activityの同メソッドと同じタイミングで呼ばれる
- アプリがバックグラウンドになった際に呼び出されます。
- そのまま一定期間が経ったり、別のアプリが起動したりするとonStopが呼ばれます。


## onStop

- Activityの同メソッドと同じタイミングで呼ばれる
- 他のアプリを呼び出したり、他のFragmentが全面に重なって表示されたりなど、Fragmentが完全に見えなくなった場合に呼ばれる。


## onDestroyView

- Fragmentに関連付いているviewが破棄されたタイミングで呼ばれます。


## onDestroy

- Activityが終了するタイミングで呼ばれます。アプリの終了や、finishのイベントを読んだ際に呼ばれます。
- **ただし、呼ばれない時もあるらしいので注意！**

## onDetach

- フラグメントとアクティビティとの関連付けが解除されたときに呼び出されます。



# 参考

[知らずに作って大丈夫？Androidの基本的なライフサイクルイベント31選 (3/4) - @IT](https://www.atmarkit.co.jp/ait/articles/1604/04/news011_3.html)
