- [参照透過性と冪等性の違い](#参照透過性と冪等性の違い)
  - [注目するポイントの違い](#注目するポイントの違い)
  - [参照透過性と冪等性が異なる例](#参照透過性と冪等性が異なる例)


# 参照透過性と冪等性の違い

参照透過性と冪等性は同じような概念ですが、注目するポイントが異なり、また、 参照透過 = 冪等 とは限りません。


## 注目するポイントの違い

- 参照透過性
  - 関数に対する性質を問うものです。
- 冪等性
  - 操作に対する性質を問うものです。

操作は、一つのユースケースや一つのユーザー操作など、ある程度まとまった処理を意味します。

冪等性は、特に、サーバーアクセス API で考慮が必要な概念で、クライアント側ではあまり触れることのない概念のように感じます。


## 参照透過性と冪等性が異なる例

銀行口座に入金する関数があったとします。この関数は、データベースに保持されている現在の預金残高を参照し、関数の引数で、入金金額を受け取るとします。

この関数は、データベース (外部リソース) を参照しているため、参照透過ではありません。しかし、現在の預金残高と入金額が同じ場合は、何度その関数を呼び出したとしても、結果は同じになるため、冪等であると言えます。


