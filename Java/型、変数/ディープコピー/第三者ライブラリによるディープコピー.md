<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [第三者ライブラリによるディープコピー](#第三者ライブラリによるディープコピー)
  - [【参考】第三者ライブラリを使用してディープコピーする方法](#参考第三者ライブラリを使用してディープコピーする方法)
<!-- TOC END -->


# 第三者ライブラリによるディープコピー

## 【参考】第三者ライブラリを使用してディープコピーする方法

以下のようにすればディープコピーができます。  
コピーされるクラス、および、その中で参照しているフィールドのクラス全てが Serializable  
マーカーインターフェースを実装している必要があります。  
List<E> と Map<K,V> は Serializable インターフェースを実装していない為、  
代わりに、 ArrayList<E> と HashMap<K,V> を使用します。

**gradle**

```gradle
implementation 'org.apache.commons:commons-lang3:3.4'
```

```java
import org.apache.commons.lang3.SerializationUtils;

public class Target implements Serializable{
    TargetChild tc = new TargetChild();
}

public class TargetChild implements Serializable{

}

public class Controller{
    Target t1 = new Target();
    Target t2 = SerializationUtils.clone(t1);
}
```

上記cloneメソッドの内部では、インスタンスをシリアライズして、それをデシリアライズしています。
インスタンスをシリアライズ（文字列化）することで複製して、それをデシリアライズすることで複製されたインスタンスが使用できるようになります。
