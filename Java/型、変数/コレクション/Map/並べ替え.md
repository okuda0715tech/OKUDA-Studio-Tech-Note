<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [並べ替え](#並べ替え)
  - [Map のキーで並べ替える](#map-のキーで並べ替える)
    - [並べ替えに使用されるクラス、インターフェースの関係](#並べ替えに使用されるクラスインターフェースの関係)
    - [Map のキーの昇順で並べ替える](#map-のキーの昇順で並べ替える)
    - [Map のキーの降順で並べ替える](#map-のキーの降順で並べ替える)
    - [並べ替える方法を指定する](#並べ替える方法を指定する)
<!-- TOC END -->


# 並べ替え

## Map のキーで並べ替える

### 並べ替えに使用されるクラス、インターフェースの関係

`TreeMap` クラスが `NavigableMap` インターフェースと `SortedMap` インターフェースを実装しています。  
`NavigableMap` インターフェースは、 `SortedMap` インターフェースを継承しています。


### Map のキーの昇順で並べ替える

`Map` 内のアイテムを `Map` のキーで並べ替えるには、 `java.util.TreeMap<K,V>` を使用します。

ただし、並べ替えると言っても、実際に中身を並べ替えるのではなく、拡張 `for` ループ文で  
アイテムを取り出す際に、ソート順に従って取り出す動作になっているようです。

並べ替えが適用されるのは、拡張 `for` ループ文で  
`map.entrySet() / map.keySet() / map.values()` メソッドのいずれかを使用して、  
アイテムを一つずつ取り出す場合です。

```java
// TreeMap クラスを使用します。 HashMap クラスではソートされません。
// TreeMap クラスにデータを格納したら、あとは拡張 for 文で取り出すだけでソート順に取り出すことができます。
Map<String, String> treeMap = new TreeMap<>();

treeMap.put("0001", "Alice");
treeMap.put("0003", "Carol");
treeMap.put("0002", "Bob");

for (String key : treeMap.keySet()) {
  // "Alice", "Bob", "Carol" のように、キーの昇順で取り出されます。
  treeMap.get(key);
}

// 後からエントリを追加しても、 for 文で取り出すときに、追加したエントリもソートされます。
treeMap.put("0000", "XXXXX");
for (String key : treeMap.keySet()) {
  treeMap.get(key);
}
```


### Map のキーの降順で並べ替える

```java
// map の変数を格納する型は、 TreeMap でなければいけません。
// なぜなら、 Map インターフェースには、 descendingMap() メソッドが定義されていないためです。
TreeMap<String, String> treeMap = new TreeMap<>();

treeMap.put("0001", "Alice");
treeMap.put("0003", "Carol");
treeMap.put("0002", "Bob");

for (String key : treeMap.descendingMap().keySet()) {
  // "Carol", "Bob", "Alice" のように、キーの降順で取り出されます。
  treeMap.get(key);
}
```


### 並べ替える方法を指定する

```java
TreeMap<String, String> treeMap = new TreeMap<>(new Comparator<String>() {
  @Override
  public int compare(String o1, String o2) {
    return o1.compareTo(o2);
  }
});

treeMap.put("0001", "Alice");
treeMap.put("0003", "Carol");
treeMap.put("0002", "Bob");
treeMap.put("0000", "Adam");

for (String key : treeMap.keySet()) {
  // Comparator で指定したルールで、キーについて並べ替えて、取り出されます。
  treeMap.get(key);
}
```
