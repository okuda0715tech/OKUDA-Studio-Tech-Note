<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [ソート](#ソート)
  - [「自然順序付け」とは](#自然順序付けとは)
  - [ソート後は、ちゃんと、要素 i の参照先が変わる。](#ソート後はちゃんと要素-i-の参照先が変わる)
  - [リストの要素が POJO の場合](#リストの要素が-pojo-の場合)
    - [サンプル](#サンプル)
  - [リストの要素が基本型（ POJO 以外）の場合](#リストの要素が基本型-pojo-以外の場合)
    - [サンプル](#サンプル-1)
  - [ソートメソッド一覧](#ソートメソッド一覧)
  - [Comparator 取得メソッド一覧](#comparator-取得メソッド一覧)
  - [単純に現在の並び順を逆順にする場合](#単純に現在の並び順を逆順にする場合)
<!-- TOC END -->


# ソート

## 「自然順序付け」とは

自然順序付けとは、比較されるオブジェクト自身の `compareTo()` メソッドが示す順序のことです。  
`compareTo()` メソッドは `Comparable` インターフェースの抽象メソッドであり、  
`Integer` 型などの基本型では、あらかじめ `Comparable` インターフェースを実装しています。

つまり、 Java のドキュメントに、 「自然順序付けでソートする」 と記述されているソートメソッドは、  
コレクションの要素が `Comparable` インターフェースを実装している必要があります。


## ソート後は、ちゃんと、要素 i の参照先が変わる。

List のソートを行うと、単に、**要素の取り出し時の取り出し順**が変わるのではなく、  
要素 i 番目の参照先がちゃんと変わります。

例えば、以下のリストが存在したとします。  

| 要素番号 | 0 | 1 | 2 | 3 |
―――――――――――――――――
| 　値 　　| a | b | c | d |

これを逆順にソートすると、リストの要素の参照先は以下のようになります。

| 要素番号 | 0 | 1 | 2 | 3 |
―――――――――――――――――
| 　値 　　| d | c | b | a |


## リストの要素が POJO の場合

リストの要素が POJO の場合は、 `Comparable` インターフェースを実装するか  
`Comparator` インターフェースを実装することで、ソートを行うことができます。

`Comparable` と `Comparator` は、大小関係の判定方法を定義する役割を持っています。

`Comparable` と `Comparator` の実装方法については、 `コレクション` ディレクトリ内にある  
`コレクションのソートの基本.md` を参照してください。


### サンプル

`java.util.Collections` クラスの static メソッドである `sort()` メソッドを呼び出します。

```java
List<Data> list = new ArrayList<>();

// リストの要素が Comparable インターフェースを実装している場合
Collections.sort(list);

// リストの要素が Comparable インターフェースを実装しておらず、
// 別途、 Comparator インターフェースを実装したクラスを用意している場合
myComparator myComparator = new myComparator();
Collections.sort(list, myComparator);
```


## リストの要素が基本型（ POJO 以外）の場合

`Integer` や `String` 型のクラスには、あらかじめ `Comparable` インターフェースが実装されているため、  
自分で大小関係の判定を実装する必要はありません。


### サンプル

ただ単に、 `Collections.sort()` メソッドを呼び出すだけで、ソートを行うことができます。

```java
List<String> list = new ArrayList<>();
Collections.sort(list);
```


## ソートメソッド一覧

| メソッドシグネチャ                          | メソッド保有クラス | Comparable が必要か | Comparator が必要か | 昇順 or 降順 |
|---------------------------------------------|--------------------|---------------------|---------------------|--------------|
| sort(List<T> list)                          | Collections        | ○ ( 必要 )          | × ( 不要 )                  | 昇順         |
| sort(List<T> list, Comparator<? super T> c) | Collections        | ×                   | ○                   | 昇順         |
| sort(Comparator<? super E> c)               | List               | △ ( ※ 1 )           | ○                   | 昇順         |

( ※ 1 )  
Comparator が null の場合は、 Comparable が必要です。


## Comparator 取得メソッド一覧

以下のメソッドは、 Comparator を返すメソッド一覧です。  
取得した Comparator は、ソート系メソッドに渡して使用します。

| メソッドシグネチャ              | メソッド保有クラス | Comparable が必要か | Comparator が必要か | 昇順 or 降順 |
|---------------------------------|--------------------|---------------------|---------------------|--------------|
| reverseOrder()                  | Collections        | ○ ( 必要 )                  | × ( 不要 )                  | 降順         |
| reverseOrder(Comparator<T> cmp) | Collections        | △ ( ※ 1 )           | ○                   | 降順         |

( ※ 1 )  
Comparator が null の場合は、 Comparable が必要です。


## 単純に現在の並び順を逆順にする場合

```Java
List<Data> list = new ArrayList<>();

// 返値はありません。ソート後のデータは、パラメータで渡されたリストに格納されます。
Collections.reverse(list);
```
