<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [SingleThreadedExecution](#singlethreadedexecution)
	- [概要](#概要)
	- [どんな時に使うか](#どんな時に使うか)

<!-- /TOC -->


# SingleThreadedExecution

## 概要

SingleThreadedExecutionパターンは、同時に複数のスレッドが実行できず、一つのスレッドのみが実行できるようにするパターンである。


## どんな時に使うか

一つのインスタンスのフィールド/メソッドを同時に複数のスレッドが利用する状況下で、以下の条件の場合に使用するパターンである。

1. 複数のフィールドを同時に更新する必要がある場合
  - 二つのフィールドに関係性があり、どちらかを更新する場合は、必ずもう一方も更新する必要がある場合
2. ある処理が実行済みかどうかを判定するフラグを制御する場合
  - ある処理を実行中に他のスレッドもある処理を実行し始めると、二回処理されてしまう。
  - そのため、「ある処理」と「判定フラグ」を一つのブロックとして、そのブロックをSingleThreadedExecutionにする。
3. あるデータの内容とそのデータが変更されたかどうかを判定するフラグを制御する場合
  - 理由は項番2とほとんど同じ

