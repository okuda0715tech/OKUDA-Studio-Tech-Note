<!-- TOC START min:1 max:3 link:true asterisk:false update:true -->
- [配列](#配列)
	- [要素の値からそのindexを取得する方法](#要素の値からそのindexを取得する方法)
	- [配列をListに変換する方法](#配列をlistに変換する方法)
	- [配列を別の配列にコピーする](#配列を別の配列にコピーする)
	- [配列の一部の要素を削除した新しい配列を生成する](#配列の一部の要素を削除した新しい配列を生成する)
	- [配列のコピーを生成し、その配列に新しい要素を追加する](#配列のコピーを生成しその配列に新しい要素を追加する)
<!-- TOC END -->


# 配列

## 要素の値からそのindexを取得する方法

配列の要素が数値型の場合のみ使用可能なのかもしれない。
詳しくはドキュメントを参照

[クラス Arrays - OracleDoc](https://docs.oracle.com/javase/jp/7/api/java/util/Arrays.html)

**注意**
このbinarySearchを使用する前に昇順にソートされていなければいけない。

**Sample.java**

```Java
int[] array = {1, 3, 5, 7, 9};
int index1 = Arrays.binarySearch(array, 5); // 2が返る
int index2 = Arrays.binarySearch(array, 6); // -3が返る
```

要素が見つからなかった場合は、その要素が入るべきindexをマイナスにしたindexに、さらにマイナス1した値が取得できる。

**例**
```
配列：{1, 3, 5, 7, 9}
検索値：6

上記の場合、6はindexが3の位置に入るべきなので、-3-1=-4が返る。
```


## 配列をListに変換する方法

```java
User[] users = {user1, user2, user3};

// 方法1
List<User> list = new ArrayList<>(Arrays.asList(users));
// 方法1（補足）
// 配列の要素のクラスがリストの要素のクラスのサブクラスの場合は、<>内にリスト側のクラスを明示する必要がある。
List<User> list = new ArrayList<Users>(Arrays.asList(usersSub));

// 方法2
List<User> list = new ArrayList<>();
Collections.addAll(list, users);
```


## 配列を別の配列にコピーする

`java.util.Arrays` クラスの `copyOf` メソッド、もしくは、 `copyOfRange` メソッドを使用する。

```java
// copyOf メソッド
public static int[] copyOf(int[] original, int newLength)
// copyOfRange メソッド
public static int[] copyOfRange(int[] original, int from, int to)
```

コピー後の配列の長さがコピー前の配列の長さよりも長くなる場合には、 `copyOf` メソッドを使用する必要がある。  
要素の途中からコピーしたい場合には、 `copyOfRange` メソッドを使用する。  
上記のどちらのケースにも当てはまらない場合には、どちらのメソッドを使用しても良い。

`copyOf` メソッドを使用した場合、コピー後の配列の長さが元の配列の長さよりも長ければ、  
nullやゼロパディングが行われる。


## 配列の一部の要素を削除した新しい配列を生成する

上記のコピーメソッドを使用して実現する。

```java
/* 配列の後ろから 4 要素を削除する例 */

float[] oldArray;
... // ←初期化したとする。
int newArraySize = oldArray.length - 4;
// 配列の指定した長さ分をコピーした新しい配列を生成し、それを返す。
float[] newArray = Arrays.copyOf(oldArray, newArraySize);
```


## 配列のコピーを生成し、その配列に新しい要素を追加する

`copyOf` メソッドを使用し、元の値をコピーしつつ、要素数を増加した新しい配列を生成する。  
その後、新しく追加された要素に値をセットする。
