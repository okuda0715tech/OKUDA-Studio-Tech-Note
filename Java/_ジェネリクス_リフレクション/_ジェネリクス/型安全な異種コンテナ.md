- [型安全な異種コンテナ](#型安全な異種コンテナ)
  - [概要](#概要)
  - [実装例](#実装例)


# 型安全な異種コンテナ

## 概要

通常のパラメータ化された型では、コンテナごとに特定の型のみを扱えるようになっています。  
例えば、 `Map<String, Integer>` は、 `String` と `Integer` のみを含めることが出来るコンテナです。

異種コンテナとは、パラメータ化された型に `Class<T>` クラスを指定することで、  
様々な型をコンテナ内で扱うことができるようにしたものです。


## 実装例

```Java
/**
 * データベースの一行分のデータの想定.
 * 
 * Map のキーが一列分の列名に相当し、 Map の値がその列の値に相当する。
 */
public class Favorites {

    private final Map<Class<?>, Object> favorites = new HashMap<>();

    public <T> void putFavorite(Class<T> type, T instance) {
        favorites.put(Objects.requireNonNull(type), instance);
    }

    public <T> T getFavorite(Class<T> type) {
        return type.cast(favorites.get(type));
    }

}
```



